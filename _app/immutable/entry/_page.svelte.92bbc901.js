import{S as Kt,i as Wt,s as Qt,k,q as M,a as F,J as le,e as Lt,l as y,m as b,r as S,c as P,h as m,K as ne,n as h,b as ae,G as c,L as W,u as Q,H as Vt,M as Le,N as Yt,p as $e,O as ue}from"../chunks/index.9fc21f1b.js";const H=(e,t)=>{const n=e%t;return n<0?n+t:n},Zt=e=>{if(isNaN(e))return"NaN";const t=String(+e).split("")??[],n=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];let l="",a=3;for(;a--;)l=(n[+(t.pop()??"")+a*10]||"")+l;return Array(+t.join("")+1).join("M")+l},p=[{sharpNote:"C",flatNote:"C",defaultOctaveFrequency:261.63},{sharpNote:"C#",flatNote:"D♭",preferSharp:!0,defaultOctaveFrequency:277.18},{sharpNote:"D",flatNote:"D",defaultOctaveFrequency:293.66},{sharpNote:"D#",flatNote:"E♭",preferSharp:!1,defaultOctaveFrequency:311.13},{sharpNote:"E",flatNote:"E",defaultOctaveFrequency:329.63},{sharpNote:"F",flatNote:"F",defaultOctaveFrequency:349.23},{sharpNote:"F#",flatNote:"G♭",preferSharp:!0,defaultOctaveFrequency:185},{sharpNote:"G",flatNote:"G",defaultOctaveFrequency:196},{sharpNote:"G#",flatNote:"A♭",preferSharp:!1,defaultOctaveFrequency:207.65},{sharpNote:"A",flatNote:"A",defaultOctaveFrequency:220},{sharpNote:"A#",flatNote:"B♭",preferSharp:!1,defaultOctaveFrequency:233.08},{sharpNote:"A",flatNote:"B",defaultOctaveFrequency:246.94}],G=[2,2,1,2,2,2,1],ee=[2,2,3,2,3],ze=[1,256/243,9/8,32/27,81/64,4/3,1024/729,3/2,128/81,27/16,16/9,243/128],xt={pentatonic:[.3,.05,.05,.2,.1],diatonic:[.3,.05,.15,.05,.075,.05,.03]},el={pentatonic:[.5,.05,.15,.2,.05],diatonic:[.5,.02,.05,.1,.1,.05,.02]},Ae=.25,R=(e,t,n)=>{let l=0;for(let a=e;a<t;a++)l+=n[H(a,n.length)];return l},tl=(e,t)=>e===4&&t===7?"major":e===3&&t===7?"minor":e===3&&t===6?"diminished":"bizarre",ll=(e,t,n)=>{const l=Zt(H(e+1,n.length+1)),a=e+t,u=tl(R(a,a+2,n),R(a,a+4,n));return u==="major"?l:u==="minor"?l.toLowerCase():u==="diminished"?`${l.toLowerCase()}°`:l},z=(e,t)=>{const n=[];for(let l=0;l<t.length;l++)n.push({semitonesFromRoot:R(e,e+l,t),label:ll(l,e,t)});return n},wt=(e,t)=>{const n=t+1,l=e.semitonesFromRoot-R(0,t,G);if(l===1)return`A${n}`;if([1,4,5].includes(n)){if(l===0)return`P${n}`;if(l===-1)return`d${n}`}return l===0?`M${n}`:l===-1?`m${n}`:l===-2?`d${n}`:`${e.semitonesFromRoot}s`},nl=z(0,G),al=z(1,G),ol=z(2,G),sl=z(3,G),rl=z(4,G),cl=z(5,G),il=z(6,G),hl=[{name:"Ionian / Major",scale:nl,rootIntervalToIonian:R(0,0,G)},{name:"Dorian",scale:al,rootIntervalToIonian:R(0,1,G)},{name:"Phrygian",scale:ol,rootIntervalToIonian:R(0,2,G)},{name:"Lydian",scale:sl,rootIntervalToIonian:R(0,3,G)},{name:"Mixolydian",scale:rl,rootIntervalToIonian:R(0,4,G)},{name:"Aeolian / Natural Minor",scale:cl,rootIntervalToIonian:R(0,5,G)},{name:"Locrian",scale:il,rootIntervalToIonian:R(0,6,G)}],ul=z(0,ee),fl=z(1,ee),_l=z(2,ee),dl=z(3,ee),ml=z(4,ee),vl=[{name:"Major",scale:ul,rootIntervalToIonian:R(0,0,ee)},{name:"Suspended / Egyptian",scale:fl,rootIntervalToIonian:R(0,1,ee)},{name:"Blues minor / Man Gong",scale:_l,rootIntervalToIonian:R(0,2,ee)},{name:"Blues major",scale:dl,rootIntervalToIonian:R(0,3,ee)},{name:"Minor",scale:ml,rootIntervalToIonian:R(0,4,ee)}],Ve=[{label:"Diatonic",modes:hl},{label:"(Major) Pentatonic",modes:vl}],Ke=300,pt=.75,gl=8,pl=1e-6,bl={attackTime:.1,decayTime:.3,releaseTime:.5,maxSustainTime:.2,maxGain:.1,sustainGainRatio:.1,oscillatorType:"sine"},Tl=(e,t)=>{let n=1;for(;t<0;)t=t+ze.length,n=n*.5;for(;t>=ze.length;)t=t-ze.length,n=n*2;return n=n*ze[t],e.defaultOctaveFrequency*n},U=(e,t,n,l,a={})=>{l<n&&alert("WTF?");const u={...bl,...a};let{attackTime:r,decayTime:d}={...u};const{releaseTime:o,maxSustainTime:f,maxGain:_,sustainGainRatio:T,oscillatorType:I="triangle"}={...u},g=_*T,v=new AudioContext,E=v.createOscillator(),j=v.createGain(),Te=v.createDynamicsCompressor();j.gain.value=.001,E.type=I,E.frequency.value=Tl(e,t),E.connect(j).connect(Te).connect(v.destination);const $=l-n;r>$/(2*1e3)&&(r=$/(2*1e3)),d+r>$/1e3&&(d=$/1e3-r);let K=f??1e4;K>$/1e3-r-d&&(K=$/1e3-r-d),setTimeout(function(){const oe=v.currentTime+r;j.gain.exponentialRampToValueAtTime(_,oe),E.start(),setTimeout(()=>{j.gain.exponentialRampToValueAtTime(g,v.currentTime+d),setTimeout(()=>{j.gain.exponentialRampToValueAtTime(pl,v.currentTime+o),setTimeout(function(){E.stop(),v.close()},o*1e3+2e3)},K*1e3)},r*1e3)},n)},kl=(e,t,n=Ke,l=pt)=>{const a=n*.5*l,u=n*.5-a,r=n*.5;[...e].forEach((d,o)=>{o===0?U(p[t],d.semitonesFromRoot,o*2*r+u,o*2*r+u+a+r):(U(p[t],0,o*2*r+u,o*2*r+u+a),U(p[t],d.semitonesFromRoot,(o*2+1)*r+u,(o*2+1)*r+u+a))}),U(p[t],0,e.length*2*r+u,e.length*2*r+u+a),U(p[t],p.length,(e.length*2+1)*r+u,(e.length*2+1)*r+u+a)},yl=(e,t,n=Ke,l=pt)=>{const a=n*.5*l,u=n*.5-a,r=n*.5;U(p[t],e[0].semitonesFromRoot,u,r+u+a+r),[...e].forEach((d,o)=>{U(p[t],d.semitonesFromRoot,(o+2)*r+u,(o+2)*r+u+a+r)}),U(p[t],p.length,(e.length+2)*r+u,(e.length+2)*r+u+a),[...e].reverse().forEach((d,o)=>{U(p[t],d.semitonesFromRoot,(o+e.length+3)*r+u,(o+e.length+3)*r+u+a+r)})},Il=(e,t,n=Ke,l=pt)=>{const a=n*.5*l,u=n*.5-a,r=n*.5;U(p[t],0,u,u+r*(e.length*2+3),{maxSustainTime:r*(e.length*2+2),oscillatorType:"sine",sustainGainRatio:.5,maxGain:.0125}),[...e].forEach((d,o)=>{U(p[t],d.semitonesFromRoot,(o+2)*r+u,(o+2)*r+u+a+r)}),U(p[t],p.length,(e.length+2)*r+u,(e.length+2)*r+u+a),[...e].reverse().forEach((d,o)=>{U(p[t],d.semitonesFromRoot,(o+e.length+3)*r+u,(o+e.length+3)*r+u+a+r)})},El=(e,t,n,l,a=Ke,u=gl)=>{let r=0;for(;r<=u;)e.forEach((o,f)=>{if(!(f>=n.length)&&Math.random()<n[f]){const _=Math.random();let T=1;_>.8&&(T=2),_>.9&&(T=4),_>.95&&(T=6),_>.97&&(T=3),_>.99&&(T=8),U(p[t],o.semitonesFromRoot+p.length,a*r,a*r+a*Ae*T),r+=Ae}}),r+=Ae;let d=0;for(;d<=u;)e.forEach((o,f)=>{if(!(f>=l.length)&&Math.random()<l[f]){const _=Math.random();let T=1;_>.8&&(T=2),_>.9&&(T=4),_>.95&&(T=6),_>.97&&(T=3),_>.99&&(T=8),U(p[t],o.semitonesFromRoot,a*d,a*d+a*2*Ae*T),d+=2*Ae}}),d+=2*Ae};function qt(e,t,n){const l=e.slice();l[24]=t[n];const a=l[1];return l[25]=a,l}function Rt(e,t,n){const l=e.slice();l[24]=t[n];const a=l[1]+l[24].rootIntervalToIonian-l[3].rootIntervalToIonian;return l[25]=a,l}function Gt(e,t,n){const l=e.slice();return l[30]=t[n],l}function Ut(e,t,n){const l=e.slice();l[33]=t[n],l[38]=n;const a=l[0]?l[10](l[3].scale[H(l[38]-l[2].modes.findIndex(d=>d===l[3]),l[3].scale.length)].semitonesFromRoot+l[1],l[6]):l[10](l[33].semitonesFromRoot+l[1],l[6]);l[34]=a;const u=l[11](l[33],l[1],l[7]);l[35]=u;const r=l[11](l[33],l[1],l[8]);return l[36]=r,l}function jt(e,t,n){const l=e.slice();l[39]=t[n],l[38]=n;const a=l[10](l[38],l[6]);return l[34]=a,l}function Xt(e){let t,n,l,a,u=e[9](e[39])+"",r,d;return{c(){t=le("g"),n=le("circle"),a=le("text"),r=M(u),this.h()},l(o){t=ne(o,"g",{});var f=b(t);n=ne(f,"circle",{style:!0,cx:!0,cy:!0,r:!0,transform:!0,stroke:!0,fill:!0}),b(n).forEach(m),a=ne(f,"text",{x:!0,y:!0,class:!0,"text-anchor":!0,dy:!0});var _=b(a);r=S(_,u),_.forEach(m),f.forEach(m),this.h()},h(){$e(n,"stroke-width","1.6871"),$e(n,"stroke-miterlimit","10"),h(n,"cx",0),h(n,"cy",0),h(n,"r",30),h(n,"transform",`translate(${e[34].x} ${e[34].y})`),h(n,"stroke","transparent"),h(n,"fill",l=e[38]===e[1]?"yellow":"var(--base-background-color)"),h(a,"x",e[34].x),h(a,"y",e[34].y),h(a,"class",d=ue(`svgNoteName ${e[12](e[38],e[1],e[3].scale)?"svgSelectedNoteName":""}`)+" svelte-44cbht"),h(a,"text-anchor","middle"),h(a,"dy",".3em")},m(o,f){ae(o,t,f),c(t,n),c(t,a),c(a,r)},p(o,f){f[0]&2&&l!==(l=o[38]===o[1]?"yellow":"var(--base-background-color)")&&h(n,"fill",l),f[0]&10&&d!==(d=ue(`svgNoteName ${o[12](o[38],o[1],o[3].scale)?"svgSelectedNoteName":""}`)+" svelte-44cbht")&&h(a,"class",d)},d(o){o&&m(t)}}}function Ht(e){let t,n,l,a,u=e[33].label+"",r,d,o,f=wt(e[33],e[38])+"",_,T;return{c(){t=le("circle"),l=le("g"),a=le("text"),r=M(u),o=le("text"),_=M(f),this.h()},l(I){t=ne(I,"circle",{style:!0,cx:!0,cy:!0,r:!0,transform:!0,stroke:!0,fill:!0,class:!0}),b(t).forEach(m),l=ne(I,"g",{class:!0});var g=b(l);a=ne(g,"text",{x:!0,y:!0,"text-anchor":!0,dy:!0,transform:!0,class:!0});var v=b(a);r=S(v,u),v.forEach(m),o=ne(g,"text",{x:!0,y:!0,"text-anchor":!0,dy:!0,transform:!0,class:!0});var E=b(o);_=S(E,f),E.forEach(m),g.forEach(m),this.h()},h(){$e(t,"stroke-width","1.6871"),$e(t,"stroke-miterlimit","10"),h(t,"cx",0),h(t,"cy",0),h(t,"r",30),h(t,"transform",n=`translate(${e[34].x} ${e[34].y})`),h(t,"stroke","black"),h(t,"fill","transparent"),h(t,"class","transitionAll svelte-44cbht"),h(a,"x",0),h(a,"y",0),h(a,"text-anchor","middle"),h(a,"dy",".3em"),h(a,"transform",d=`translate(${e[35].x} ${e[35].y})`),h(a,"class","svgNoteName scaleNote transitionAll svelte-44cbht"),h(o,"x",0),h(o,"y",0),h(o,"text-anchor","middle"),h(o,"dy",".3em"),h(o,"transform",T=`translate(${e[36].x} ${e[36].y})`),h(o,"class","svgNoteName scaleNote transitionAll svelte-44cbht"),h(l,"class","transitionNote")},m(I,g){ae(I,t,g),ae(I,l,g),c(l,a),c(a,r),c(l,o),c(o,_)},p(I,g){g[0]&15&&n!==(n=`translate(${I[34].x} ${I[34].y})`)&&h(t,"transform",n),g[0]&8&&u!==(u=I[33].label+"")&&Q(r,u),g[0]&10&&d!==(d=`translate(${I[35].x} ${I[35].y})`)&&h(a,"transform",d),g[0]&8&&f!==(f=wt(I[33],I[38])+"")&&Q(_,f),g[0]&10&&T!==(T=`translate(${I[36].x} ${I[36].y})`)&&h(o,"transform",T)},d(I){I&&m(t),I&&m(l)}}}function Jt(e){let t,n=e[30].label+"",l,a,u,r,d;function o(){return e[15](e[30])}return{c(){t=k("button"),l=M(n),a=F(),this.h()},l(f){t=y(f,"BUTTON",{class:!0});var _=b(t);l=S(_,n),a=P(_),_.forEach(m),this.h()},h(){h(t,"class",u=ue(e[2]===e[30]?"selectedTab":"")+" svelte-44cbht")},m(f,_){ae(f,t,_),c(t,l),c(t,a),r||(d=W(t,"click",o),r=!0)},p(f,_){e=f,_[0]&4&&u!==(u=ue(e[2]===e[30]?"selectedTab":"")+" svelte-44cbht")&&h(t,"class",u)},d(f){f&&m(t),r=!1,d()}}}function zt(e){let t,n,l=e[9](p[H(e[25],p.length)])+"",a,u,r=e[24].name+"",d,o,f,_,T;function I(){return e[16](e[24],e[25])}return{c(){t=k("button"),n=k("span"),a=M(l),u=F(),d=M(r),o=F(),this.h()},l(g){t=y(g,"BUTTON",{class:!0});var v=b(t);n=y(v,"SPAN",{class:!0});var E=b(n);a=S(E,l),E.forEach(m),u=P(v),d=S(v,r),o=P(v),v.forEach(m),this.h()},h(){h(n,"class","noteLabel svelte-44cbht"),h(t,"class",f=ue(e[24]===e[3]&&e[0]?"selectedTab":"")+" svelte-44cbht")},m(g,v){ae(g,t,v),c(t,n),c(n,a),c(t,u),c(t,d),c(t,o),_||(T=W(t,"click",I),_=!0)},p(g,v){e=g,v[0]&14&&l!==(l=e[9](p[H(e[25],p.length)])+"")&&Q(a,l),v[0]&4&&r!==(r=e[24].name+"")&&Q(d,r),v[0]&13&&f!==(f=ue(e[24]===e[3]&&e[0]?"selectedTab":"")+" svelte-44cbht")&&h(t,"class",f)},d(g){g&&m(t),_=!1,T()}}}function $t(e){let t,n,l=e[9](p[H(e[25],p.length)])+"",a,u,r=e[24].name+"",d,o,f,_,T;function I(){return e[17](e[24],e[25])}return{c(){t=k("button"),n=k("span"),a=M(l),u=F(),d=M(r),o=F(),this.h()},l(g){t=y(g,"BUTTON",{class:!0});var v=b(t);n=y(v,"SPAN",{class:!0});var E=b(n);a=S(E,l),E.forEach(m),u=P(v),d=S(v,r),o=P(v),v.forEach(m),this.h()},h(){h(n,"class","noteLabel svelte-44cbht"),h(t,"class",f=ue(e[24]===e[3]&&!e[0]?"selectedTab":"")+" svelte-44cbht")},m(g,v){ae(g,t,v),c(t,n),c(n,a),c(t,u),c(t,d),c(t,o),_||(T=W(t,"click",I),_=!0)},p(g,v){e=g,v[0]&2&&l!==(l=e[9](p[H(e[25],p.length)])+"")&&Q(a,l),v[0]&4&&r!==(r=e[24].name+"")&&Q(d,r),v[0]&13&&f!==(f=ue(e[24]===e[3]&&!e[0]?"selectedTab":"")+" svelte-44cbht")&&h(t,"class",f)},d(g){g&&m(t),_=!1,T()}}}function Ml(e){let t,n=e[9](p[H(e[1],p.length)])+"",l,a,u=e[3].name+"",r,d,o,f,_,T,I,g,v,E,j,Te,$,K,oe=e[9](p[H(e[1],p.length)])+"",Oe,we,se,qe,Re,re,C,D,X,Y,Z,ce,We,De=e[2].label+"",Ge,Qe,Ye,Ze,Be,ie,ke,xe,et,tt,ye,J,fe,lt,nt,_e,at,ot,de,st,rt,me,ct,it,Ie,Ee,te,ve,ht,ut,ge,Ue,ft,_t,pe,dt,mt,bt,Me=[...p],B=[];for(let i=0;i<Me.length;i+=1)B[i]=Xt(jt(e,Me,i));let Se=[...e[3].scale],L=[];for(let i=0;i<Se.length;i+=1)L[i]=Ht(Ut(e,Se,i));let Ne=Ve,V=[];for(let i=0;i<Ne.length;i+=1)V[i]=Jt(Gt(e,Ne,i));let Ce=e[2].modes,w=[];for(let i=0;i<Ce.length;i+=1)w[i]=zt(Rt(e,Ce,i));let Fe=e[2].modes,q=[];for(let i=0;i<Fe.length;i+=1)q[i]=$t(qt(e,Fe,i));return{c(){t=k("h1"),l=M(n),a=F(),r=M(u),d=F(),o=k("div"),f=le("svg"),_=le("circle");for(let i=0;i<B.length;i+=1)B[i].c();T=Lt();for(let i=0;i<L.length;i+=1)L[i].c();I=F(),g=k("div"),v=k("div"),E=M(`Root note
			`),j=k("button"),Te=M("-"),$=F(),K=k("span"),Oe=M(oe),we=F(),se=k("button"),qe=M("+"),Re=F(),re=k("div"),C=M(`Mode type
			`);for(let i=0;i<V.length;i+=1)V[i].c();D=F(),X=k("div"),Y=k("div"),Z=k("div"),ce=k("h2"),We=M("Equivalent "),Ge=M(De),Qe=M(" modes"),Ye=F();for(let i=0;i<w.length;i+=1)w[i].c();Ze=F(),Be=k("div"),ie=k("div"),ke=k("h2"),xe=M("Modes by modification"),et=F();for(let i=0;i<q.length;i+=1)q[i].c();tt=F(),ye=k("div"),J=k("div"),fe=k("button"),lt=M("▶ Scale"),nt=F(),_e=k("button"),at=M("▶ Scale + Pedal"),ot=F(),de=k("button"),st=M("▶ Scale + Drone"),rt=F(),me=k("button"),ct=M("▶ Jam"),it=F(),Ie=k("div"),Ee=k("div"),te=k("div"),ve=k("button"),ht=M("-"),ut=F(),ge=k("span"),Ue=M(e[4]),ft=M(" bpm"),_t=F(),pe=k("button"),dt=M("+"),this.h()},l(i){t=y(i,"H1",{class:!0});var N=b(t);l=S(N,n),a=P(N),r=S(N,u),N.forEach(m),d=P(i),o=y(i,"DIV",{class:!0,"data-sveltekit-preload-data":!0});var s=b(o);f=ne(s,"svg",{id:!0,viewBox:!0,xmlns:!0,class:!0});var A=b(f);_=ne(A,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,class:!0}),b(_).forEach(m);for(let O=0;O<B.length;O+=1)B[O].l(A);T=Lt();for(let O=0;O<L.length;O+=1)L[O].l(A);A.forEach(m),I=P(s),g=y(s,"DIV",{class:!0});var x=b(g);v=y(x,"DIV",{});var be=b(v);E=S(be,`Root note
			`),j=y(be,"BUTTON",{class:!0});var Tt=b(j);Te=S(Tt,"-"),Tt.forEach(m),$=P(be),K=y(be,"SPAN",{class:!0});var kt=b(K);Oe=S(kt,oe),kt.forEach(m),we=P(be),se=y(be,"BUTTON",{class:!0});var yt=b(se);qe=S(yt,"+"),yt.forEach(m),be.forEach(m),Re=P(x),re=y(x,"DIV",{});var vt=b(re);C=S(vt,`Mode type
			`);for(let O=0;O<V.length;O+=1)V[O].l(vt);vt.forEach(m),D=P(x),X=y(x,"DIV",{});var je=b(X);Y=y(je,"DIV",{});var It=b(Y);Z=y(It,"DIV",{});var Xe=b(Z);ce=y(Xe,"H2",{class:!0});var He=b(ce);We=S(He,"Equivalent "),Ge=S(He,De),Qe=S(He," modes"),He.forEach(m),Ye=P(Xe);for(let O=0;O<w.length;O+=1)w[O].l(Xe);Xe.forEach(m),It.forEach(m),Ze=P(je),Be=y(je,"DIV",{});var Et=b(Be);ie=y(Et,"DIV",{});var Je=b(ie);ke=y(Je,"H2",{class:!0});var Mt=b(ke);xe=S(Mt,"Modes by modification"),Mt.forEach(m),et=P(Je);for(let O=0;O<q.length;O+=1)q[O].l(Je);Je.forEach(m),Et.forEach(m),je.forEach(m),tt=P(x),ye=y(x,"DIV",{class:!0});var St=b(ye);J=y(St,"DIV",{class:!0});var he=b(J);fe=y(he,"BUTTON",{class:!0});var Nt=b(fe);lt=S(Nt,"▶ Scale"),Nt.forEach(m),nt=P(he),_e=y(he,"BUTTON",{class:!0});var Ct=b(_e);at=S(Ct,"▶ Scale + Pedal"),Ct.forEach(m),ot=P(he),de=y(he,"BUTTON",{class:!0});var Ft=b(de);st=S(Ft,"▶ Scale + Drone"),Ft.forEach(m),rt=P(he),me=y(he,"BUTTON",{class:!0});var Pt=b(me);ct=S(Pt,"▶ Jam"),Pt.forEach(m),he.forEach(m),St.forEach(m),it=P(x),Ie=y(x,"DIV",{class:!0});var At=b(Ie);Ee=y(At,"DIV",{class:!0});var Ot=b(Ee);te=y(Ot,"DIV",{});var Pe=b(te);ve=y(Pe,"BUTTON",{class:!0});var Dt=b(ve);ht=S(Dt,"-"),Dt.forEach(m),ut=P(Pe),ge=y(Pe,"SPAN",{class:!0});var gt=b(ge);Ue=S(gt,e[4]),ft=S(gt," bpm"),gt.forEach(m),_t=P(Pe),pe=y(Pe,"BUTTON",{class:!0});var Bt=b(pe);dt=S(Bt,"+"),Bt.forEach(m),Pe.forEach(m),Ot.forEach(m),At.forEach(m),x.forEach(m),s.forEach(m),this.h()},h(){h(t,"class","svelte-44cbht"),h(_,"cx",e[5].xCentre),h(_,"cy",e[5].yCentre),h(_,"r",e[5].radius),h(_,"stroke","grey"),h(_,"stroke-width",1),h(_,"fill","var(--base-background-color)"),h(_,"class","background svelte-44cbht"),h(f,"id","boxOfNotes"),h(f,"viewBox","0 0 800 800"),h(f,"xmlns","http://www.w3.org/2000/svg"),h(f,"class","svelte-44cbht"),h(j,"class","svelte-44cbht"),h(K,"class","noteLabel svelte-44cbht"),h(se,"class","svelte-44cbht"),h(ce,"class","svelte-44cbht"),h(ke,"class","svelte-44cbht"),h(fe,"class","svelte-44cbht"),h(_e,"class","svelte-44cbht"),h(de,"class","svelte-44cbht"),h(me,"class","svelte-44cbht"),h(J,"class","svelte-44cbht"),h(ye,"class","musicControls svelte-44cbht"),h(ve,"class","svelte-44cbht"),h(ge,"class","noteLabel svelte-44cbht"),h(pe,"class","svelte-44cbht"),h(Ee,"class","svelte-44cbht"),h(Ie,"class","musicControls svelte-44cbht"),h(g,"class","boxOfButtons svelte-44cbht"),h(o,"class","appContainer svelte-44cbht"),h(o,"data-sveltekit-preload-data","hover")},m(i,N){ae(i,t,N),c(t,l),c(t,a),c(t,r),ae(i,d,N),ae(i,o,N),c(o,f),c(f,_);for(let s=0;s<B.length;s+=1)B[s].m(f,null);c(f,T);for(let s=0;s<L.length;s+=1)L[s].m(f,null);c(o,I),c(o,g),c(g,v),c(v,E),c(v,j),c(j,Te),c(v,$),c(v,K),c(K,Oe),c(v,we),c(v,se),c(se,qe),c(g,Re),c(g,re),c(re,C);for(let s=0;s<V.length;s+=1)V[s].m(re,null);c(g,D),c(g,X),c(X,Y),c(Y,Z),c(Z,ce),c(ce,We),c(ce,Ge),c(ce,Qe),c(Z,Ye);for(let s=0;s<w.length;s+=1)w[s].m(Z,null);c(X,Ze),c(X,Be),c(Be,ie),c(ie,ke),c(ke,xe),c(ie,et);for(let s=0;s<q.length;s+=1)q[s].m(ie,null);c(g,tt),c(g,ye),c(ye,J),c(J,fe),c(fe,lt),c(J,nt),c(J,_e),c(_e,at),c(J,ot),c(J,de),c(de,st),c(J,rt),c(J,me),c(me,ct),c(g,it),c(g,Ie),c(Ie,Ee),c(Ee,te),c(te,ve),c(ve,ht),c(te,ut),c(te,ge),c(ge,Ue),c(ge,ft),c(te,_t),c(te,pe),c(pe,dt),mt||(bt=[W(j,"click",e[13]),W(se,"click",e[14]),W(fe,"click",e[18]),W(_e,"click",e[19]),W(de,"click",e[20]),W(me,"click",e[21]),W(ve,"click",e[22]),W(pe,"click",e[23])],mt=!0)},p(i,N){if(N[0]&2&&n!==(n=i[9](p[H(i[1],p.length)])+"")&&Q(l,n),N[0]&8&&u!==(u=i[3].name+"")&&Q(r,u),N[0]&5706){Me=[...p];let s;for(s=0;s<Me.length;s+=1){const A=jt(i,Me,s);B[s]?B[s].p(A,N):(B[s]=Xt(A),B[s].c(),B[s].m(f,T))}for(;s<B.length;s+=1)B[s].d(1);B.length=Me.length}if(N[0]&3535){Se=[...i[3].scale];let s;for(s=0;s<Se.length;s+=1){const A=Ut(i,Se,s);L[s]?L[s].p(A,N):(L[s]=Ht(A),L[s].c(),L[s].m(f,null))}for(;s<L.length;s+=1)L[s].d(1);L.length=Se.length}if(N[0]&2&&oe!==(oe=i[9](p[H(i[1],p.length)])+"")&&Q(Oe,oe),N[0]&12){Ne=Ve;let s;for(s=0;s<Ne.length;s+=1){const A=Gt(i,Ne,s);V[s]?V[s].p(A,N):(V[s]=Jt(A),V[s].c(),V[s].m(re,null))}for(;s<V.length;s+=1)V[s].d(1);V.length=Ne.length}if(N[0]&4&&De!==(De=i[2].label+"")&&Q(Ge,De),N[0]&527){Ce=i[2].modes;let s;for(s=0;s<Ce.length;s+=1){const A=Rt(i,Ce,s);w[s]?w[s].p(A,N):(w[s]=zt(A),w[s].c(),w[s].m(Z,null))}for(;s<w.length;s+=1)w[s].d(1);w.length=Ce.length}if(N[0]&527){Fe=i[2].modes;let s;for(s=0;s<Fe.length;s+=1){const A=qt(i,Fe,s);q[s]?q[s].p(A,N):(q[s]=$t(A),q[s].c(),q[s].m(ie,null))}for(;s<q.length;s+=1)q[s].d(1);q.length=Fe.length}N[0]&16&&Q(Ue,i[4])},i:Vt,o:Vt,d(i){i&&m(t),i&&m(d),i&&m(o),Le(B,i),Le(L,i),Le(V,i),Le(w,i),Le(q,i),mt=!1,Yt(bt)}}}function Sl(e,t,n){const l={xCentre:400,yCentre:400,radius:300};let a=!0;const u={...l,radius:l.radius},r={...l,radius:l.radius-70},d={...l,radius:l.radius+70};let o=0,f=Ve[0],_=f.modes[0];const T=C=>C.preferSharp?C.sharpNote:C.flatNote,I=(C,D)=>({x:D.xCentre+D.radius*Math.cos(C*2*Math.PI/p.length-.5*Math.PI),y:D.yCentre+D.radius*Math.sin(C*2*Math.PI/p.length-.5*Math.PI)}),g=(C,D,X)=>({x:X.xCentre+X.radius*Math.cos((C.semitonesFromRoot+D)*2*Math.PI/p.length-.5*Math.PI),y:X.yCentre+X.radius*Math.sin((C.semitonesFromRoot+D)*2*Math.PI/p.length-.5*Math.PI)}),v=(C,D,X)=>{let Y=H(C-D,p.length);return Y<0&&(Y=Y+p.length),X.some(Z=>Z.semitonesFromRoot===Y)};let E=90;return[a,o,f,_,E,l,u,r,d,T,I,g,v,()=>{n(1,o=o-1),o<0&&n(1,o=o+12)},()=>{n(1,o=o+1),o>=12&&n(1,o=o-12)},C=>{f!==C&&(n(2,f=C),n(3,_=C.modes[0]))},(C,D)=>{n(3,_=C),n(1,o=H(D,p.length)),n(0,a=!0)},(C,D)=>{n(3,_=C),n(1,o=H(D,p.length)),n(0,a=!1)},()=>{yl(_.scale,o,60*1e3/E)},()=>{kl(_.scale,o,60*1e3/E)},()=>{Il(_.scale,o,60*1e3/E)},()=>{El(_.scale,o,xt[f===Ve[1]?"pentatonic":"diatonic"],el[f===Ve[1]?"pentatonic":"diatonic"],60*1e3/E)},()=>{E>10&&n(4,E=E-20)},()=>{n(4,E=E+20)}]}class Cl extends Kt{constructor(t){super(),Wt(this,t,Sl,Ml,Qt,{},null,[-1,-1])}}export{Cl as default};

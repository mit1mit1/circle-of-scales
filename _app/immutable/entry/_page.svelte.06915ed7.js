import{S as J,i as K,s as L,k as R,J as k,e as q,a as T,l as w,m as y,K as F,h as d,c as U,n as s,b as E,G as N,L as C,M as j,N as V,H as $,O as A,q as O,r as H,p as M,P as I}from"../chunks/index.9a8fc924.js";const b=[{sharpNote:"C",flatNote:"C"},{sharpNote:"C#",flatNote:"D♭",preferSharp:!0},{sharpNote:"D",flatNote:"D"},{sharpNote:"D#",flatNote:"E♭",preferSharp:!1},{sharpNote:"E",flatNote:"E"},{sharpNote:"F",flatNote:"F"},{sharpNote:"F#",flatNote:"G♭",preferSharp:!0},{sharpNote:"G",flatNote:"G"},{sharpNote:"G#",flatNote:"A♭",preferSharp:!1},{sharpNote:"A",flatNote:"A"},{sharpNote:"A#",flatNote:"B♭",preferSharp:!1},{sharpNote:"A",flatNote:"B"}],P=[{semitonesFromRoot:0,label:"I"},{semitonesFromRoot:2,label:"ii"},{semitonesFromRoot:4,label:"iii"},{semitonesFromRoot:5,label:"IV"},{semitonesFromRoot:7,label:"V"},{semitonesFromRoot:9,label:"vi"},{semitonesFromRoot:11,label:"vii"}];function D(l,r,t){const o=l.slice();return o[7]=r[t],o}function G(l,r,t){const o=l.slice();return o[10]=r[t],o[12]=t,o}function x(l){let r,t,o,n,_=l[2](l[10])+"",p,m;return{c(){r=k("g"),t=k("circle"),n=k("text"),p=O(_),this.h()},l(c){r=F(c,"g",{});var u=y(r);t=F(u,"circle",{style:!0,cx:!0,cy:!0,r:!0,stroke:!0,fill:!0,class:!0}),y(t).forEach(d),n=F(u,"text",{x:!0,y:!0,class:!0,"text-anchor":!0,dy:!0});var e=y(n);p=H(e,_),e.forEach(d),u.forEach(d),this.h()},h(){M(t,"stroke-width","1.6871"),M(t,"stroke-miterlimit","10"),s(t,"cx",l[3](l[12]).x),s(t,"cy",l[3](l[12]).y),s(t,"r",30),s(t,"stroke","black"),s(t,"fill","transparent"),s(t,"class",o=I(l[5](l[12],l[0])?"visible":"hidden")+" svelte-1qaept4"),s(n,"x",l[3](l[12]).x),s(n,"y",l[3](l[12]).y),s(n,"class",m=I(`svgNoteName ${l[5](l[12],l[0])?"svgSelectedNoteName":""}`)+" svelte-1qaept4"),s(n,"text-anchor","middle"),s(n,"dy",".3em")},m(c,u){E(c,r,u),N(r,t),N(r,n),N(n,p)},p(c,u){u&1&&o!==(o=I(c[5](c[12],c[0])?"visible":"hidden")+" svelte-1qaept4")&&s(t,"class",o),u&1&&m!==(m=I(`svgNoteName ${c[5](c[12],c[0])?"svgSelectedNoteName":""}`)+" svelte-1qaept4")&&s(n,"class",m)},d(c){c&&d(r)}}}function B(l){let r,t,o,n,_,p=l[7].label+"",m,c,u;return{c(){r=k("g"),t=k("circle"),_=k("text"),m=O(p),this.h()},l(e){r=F(e,"g",{});var f=y(r);t=F(f,"circle",{style:!0,cx:!0,cy:!0,r:!0,class:!0,fill:!0}),y(t).forEach(d),_=F(f,"text",{x:!0,y:!0,"text-anchor":!0,dy:!0,class:!0});var h=y(_);m=H(h,p),h.forEach(d),f.forEach(d),this.h()},h(){M(t,"stroke-width","1.6871"),M(t,"stroke-miterlimit","10"),s(t,"cx",o=l[4](l[7],l[0]).x),s(t,"cy",n=l[4](l[7],l[0]).y),s(t,"r",30),s(t,"class","hidden svelte-1qaept4"),s(t,"fill","transparent"),s(_,"x",c=l[4](l[7],l[0]).x),s(_,"y",u=l[4](l[7],l[0]).y),s(_,"text-anchor","middle"),s(_,"dy",".3em"),s(_,"class","svgNoteName scaleNote svelte-1qaept4")},m(e,f){E(e,r,f),N(r,t),N(r,_),N(_,m)},p(e,f){f&1&&o!==(o=e[4](e[7],e[0]).x)&&s(t,"cx",o),f&1&&n!==(n=e[4](e[7],e[0]).y)&&s(t,"cy",n),f&1&&c!==(c=e[4](e[7],e[0]).x)&&s(_,"x",c),f&1&&u!==(u=e[4](e[7],e[0]).y)&&s(_,"y",u)},d(e){e&&d(r)}}}function z(l){let r,t,o,n,_,p,m,c,u=[...b],e=[];for(let i=0;i<u.length;i+=1)e[i]=x(G(l,u,i));let f=[...P],h=[];for(let i=0;i<f.length;i+=1)h[i]=B(D(l,f,i));return{c(){r=R("div"),t=k("svg"),o=k("circle");for(let i=0;i<e.length;i+=1)e[i].c();n=q();for(let i=0;i<h.length;i+=1)h[i].c();_=T(),p=R("input"),this.h()},l(i){r=w(i,"DIV",{class:!0,"data-sveltekit-preload-data":!0});var g=y(r);t=F(g,"svg",{id:!0,viewBox:!0,xmlns:!0,class:!0});var a=y(t);o=F(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),y(o).forEach(d);for(let v=0;v<e.length;v+=1)e[v].l(a);n=q();for(let v=0;v<h.length;v+=1)h[v].l(a);a.forEach(d),_=U(g),p=w(g,"INPUT",{type:!0}),g.forEach(d),this.h()},h(){s(o,"cx",l[1].x),s(o,"cy",l[1].y),s(o,"r",S+30),s(o,"stroke","grey"),s(o,"stroke-width",1),s(o,"fill","transparent"),s(t,"id","boxOfNotes"),s(t,"viewBox","0 0 800 800"),s(t,"xmlns","http://www.w3.org/2000/svg"),s(t,"class","svelte-1qaept4"),s(p,"type","number"),s(r,"class","appContainer svelte-1qaept4"),s(r,"data-sveltekit-preload-data","hover")},m(i,g){E(i,r,g),N(r,t),N(t,o);for(let a=0;a<e.length;a+=1)e[a].m(t,null);N(t,n);for(let a=0;a<h.length;a+=1)h[a].m(t,null);N(r,_),N(r,p),C(p,l[0]),m||(c=j(p,"input",l[6]),m=!0)},p(i,[g]){if(g&45){u=[...b];let a;for(a=0;a<u.length;a+=1){const v=G(i,u,a);e[a]?e[a].p(v,g):(e[a]=x(v),e[a].c(),e[a].m(t,n))}for(;a<e.length;a+=1)e[a].d(1);e.length=u.length}if(g&17){f=[...P];let a;for(a=0;a<f.length;a+=1){const v=D(i,f,a);h[a]?h[a].p(v,g):(h[a]=B(v),h[a].c(),h[a].m(t,null))}for(;a<h.length;a+=1)h[a].d(1);h.length=f.length}g&1&&V(p.value)!==i[0]&&C(p,i[0])},i:$,o:$,d(i){i&&d(r),A(e,i),A(h,i),m=!1,c()}}}const S=330;function Q(l,r,t){const o={x:400,y:400};let n=0;const _=e=>e.preferSharp?e.sharpNote:e.flatNote,p=e=>({x:o.x+(S-10)*Math.cos(e*2*Math.PI/b.length-.5*Math.PI),y:o.y+(S-10)*Math.sin(e*2*Math.PI/b.length-.5*Math.PI)}),m=(e,f)=>({x:o.x+(S-80)*Math.cos((e.semitonesFromRoot+f)*2*Math.PI/b.length-.5*Math.PI),y:o.y+(S-80)*Math.sin((e.semitonesFromRoot+f)*2*Math.PI/b.length-.5*Math.PI)}),c=(e,f)=>{let h=(e-f)%b.length;return h<0&&(h=h+b.length),P.some(i=>i.semitonesFromRoot===h)};function u(){n=V(this.value),t(0,n)}return[n,o,_,p,m,c,u]}class X extends J{constructor(r){super(),K(this,r,Q,z,L,{})}}export{X as default};

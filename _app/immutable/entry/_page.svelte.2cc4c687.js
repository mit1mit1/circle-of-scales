import{S as Kt,i as Wt,s as Qt,k as T,q as E,a as C,J as le,e as Lt,l as k,m as b,r as N,c as F,h as d,K as ne,n as h,b as ae,G as r,L as W,u as Q,H as Bt,M as Le,N as Yt,p as Je,O as ue}from"../chunks/index.9fc21f1b.js";const H=(e,t)=>{const n=e%t;return n<0?n+t:n},Zt=e=>{if(isNaN(e))return"NaN";const t=String(+e).split("")??[],n=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];let l="",s=3;for(;s--;)l=(n[+(t.pop()??"")+s*10]||"")+l;return Array(+t.join("")+1).join("M")+l},p=[{sharpNote:"C",flatNote:"C",defaultOctaveFrequency:261.63},{sharpNote:"C#",flatNote:"D♭",preferSharp:!0,defaultOctaveFrequency:277.18},{sharpNote:"D",flatNote:"D",defaultOctaveFrequency:293.66},{sharpNote:"D#",flatNote:"E♭",preferSharp:!1,defaultOctaveFrequency:311.13},{sharpNote:"E",flatNote:"E",defaultOctaveFrequency:329.63},{sharpNote:"F",flatNote:"F",defaultOctaveFrequency:349.23},{sharpNote:"F#",flatNote:"G♭",preferSharp:!0,defaultOctaveFrequency:185},{sharpNote:"G",flatNote:"G",defaultOctaveFrequency:196},{sharpNote:"G#",flatNote:"A♭",preferSharp:!1,defaultOctaveFrequency:207.65},{sharpNote:"A",flatNote:"A",defaultOctaveFrequency:220},{sharpNote:"A#",flatNote:"B♭",preferSharp:!1,defaultOctaveFrequency:233.08},{sharpNote:"A",flatNote:"B",defaultOctaveFrequency:246.94}],G=[2,2,1,2,2,2,1],ee=[2,2,3,2,3],He=[1,256/243,9/8,32/27,81/64,4/3,1024/729,3/2,128/81,27/16,16/9,243/128],xt={pentatonic:[.3,.05,.05,.2,.1],diatonic:[.3,.05,.1,.03,.075,.03,.05]},Vt=.25,R=(e,t,n)=>{let l=0;for(let s=e;s<t;s++)l+=n[H(s,n.length)];return l},el=(e,t)=>e===4&&t===7?"major":e===3&&t===7?"minor":e===3&&t===6?"diminished":"bizarre",tl=(e,t,n)=>{const l=Zt(H(e+1,n.length+1)),s=e+t,u=el(R(s,s+2,n),R(s,s+4,n));return u==="major"?l:u==="minor"?l.toLowerCase():u==="diminished"?`${l.toLowerCase()}°`:l},z=(e,t)=>{const n=[];for(let l=0;l<t.length;l++)n.push({semitonesFromRoot:R(e,e+l,t),label:tl(l,e,t)});return n},qt=(e,t)=>{const n=t+1,l=e.semitonesFromRoot-R(0,t,G);if(l===1)return`A${n}`;if([1,4,5].includes(n)){if(l===0)return`P${n}`;if(l===-1)return`d${n}`}return l===0?`M${n}`:l===-1?`m${n}`:l===-2?`d${n}`:`${e.semitonesFromRoot}s`},ll=z(0,G),nl=z(1,G),al=z(2,G),sl=z(3,G),ol=z(4,G),rl=z(5,G),cl=z(6,G),il=[{name:"Ionian / Major",scale:ll,rootIntervalToIonian:R(0,0,G)},{name:"Dorian",scale:nl,rootIntervalToIonian:R(0,1,G)},{name:"Phrygian",scale:al,rootIntervalToIonian:R(0,2,G)},{name:"Lydian",scale:sl,rootIntervalToIonian:R(0,3,G)},{name:"Mixolydian",scale:ol,rootIntervalToIonian:R(0,4,G)},{name:"Aeolian / Natural Minor",scale:rl,rootIntervalToIonian:R(0,5,G)},{name:"Locrian",scale:cl,rootIntervalToIonian:R(0,6,G)}],hl=z(0,ee),ul=z(1,ee),fl=z(2,ee),_l=z(3,ee),dl=z(4,ee),vl=[{name:"Major",scale:hl,rootIntervalToIonian:R(0,0,ee)},{name:"Suspended / Egyptian",scale:ul,rootIntervalToIonian:R(0,1,ee)},{name:"Blues minor / Man Gong",scale:fl,rootIntervalToIonian:R(0,2,ee)},{name:"Blues major",scale:_l,rootIntervalToIonian:R(0,3,ee)},{name:"Minor",scale:dl,rootIntervalToIonian:R(0,4,ee)}],mt=[{label:"Diatonic",modes:il},{label:"(Major) Pentatonic",modes:vl}],ze=300,gt=.75,ml=16,gl=1e-6,pl={attackTime:.1,decayTime:.3,releaseTime:.5,maxSustainTime:.2,maxGain:.1,sustainGainRatio:.1,oscillatorType:"sine"},bl=(e,t)=>{let n=1;for(;t<0;)t=t+He.length,n=n*.5;for(;t>=He.length;)t=t-He.length,n=n*2;return n=n*He[t],e.defaultOctaveFrequency*n},j=(e,t,n,l,s={})=>{l<n&&alert("WTF?");const u={...pl,...s};let{attackTime:c,decayTime:_}={...u};const{releaseTime:a,maxSustainTime:f,maxGain:m,sustainGainRatio:P,oscillatorType:I="triangle"}={...u},g=m*P,v=new AudioContext,y=v.createOscillator(),U=v.createGain(),Te=v.createDynamicsCompressor();U.gain.value=.001,y.type=I,y.frequency.value=bl(e,t),y.connect(U).connect(Te).connect(v.destination);const $=l-n;c>$/(2*1e3)&&(c=$/(2*1e3)),_+c>$/1e3&&(_=$/1e3-c);let K=f??1e4;K>$/1e3-c-_&&(K=$/1e3-c-_),setTimeout(function(){const se=v.currentTime+c;U.gain.exponentialRampToValueAtTime(m,se),y.start(),setTimeout(()=>{U.gain.exponentialRampToValueAtTime(g,v.currentTime+_),setTimeout(()=>{U.gain.exponentialRampToValueAtTime(gl,v.currentTime+a),setTimeout(function(){y.stop(),v.close()},a*1e3+2e3)},K*1e3)},c*1e3)},n)},Tl=(e,t,n=ze,l=gt)=>{const s=n*.5*l,u=n*.5-s,c=n*.5;[...e].forEach((_,a)=>{a===0?j(p[t],_.semitonesFromRoot,a*2*c+u,a*2*c+u+s+c):(j(p[t],0,a*2*c+u,a*2*c+u+s),j(p[t],_.semitonesFromRoot,(a*2+1)*c+u,(a*2+1)*c+u+s))}),j(p[t],0,e.length*2*c+u,e.length*2*c+u+s),j(p[t],p.length,(e.length*2+1)*c+u,(e.length*2+1)*c+u+s)},kl=(e,t,n=ze,l=gt)=>{const s=n*.5*l,u=n*.5-s,c=n*.5;j(p[t],e[0].semitonesFromRoot,u,c+u+s+c),[...e].forEach((_,a)=>{j(p[t],_.semitonesFromRoot,(a+2)*c+u,(a+2)*c+u+s+c)}),j(p[t],p.length,(e.length+2)*c+u,(e.length+2)*c+u+s),[...e].reverse().forEach((_,a)=>{j(p[t],_.semitonesFromRoot,(a+e.length+3)*c+u,(a+e.length+3)*c+u+s+c)})},Il=(e,t,n=ze,l=gt)=>{const s=n*.5*l,u=n*.5-s,c=n*.5;j(p[t],0,u,u+c*(e.length*2+3),{maxSustainTime:c*(e.length*2+2),oscillatorType:"sine",sustainGainRatio:.5,maxGain:.0125}),[...e].forEach((_,a)=>{j(p[t],_.semitonesFromRoot,(a+2)*c+u,(a+2)*c+u+s+c)}),j(p[t],p.length,(e.length+2)*c+u,(e.length+2)*c+u+s),[...e].reverse().forEach((_,a)=>{j(p[t],_.semitonesFromRoot,(a+e.length+3)*c+u,(a+e.length+3)*c+u+s+c)})},yl=(e,t,n,l=ze,s=ml)=>{let u=0;for(;u<=s;)e.forEach((c,_)=>{if(!(_>=n.length)&&Math.random()<n[_]){const a=Math.random();let f=1;a>.8&&(f=2),a>.9&&(f=4),a>.95&&(f=6),a>.97&&(f=3),a>.99&&(f=8),j(p[t],c.semitonesFromRoot,l*u,l*u+l*Vt*f)}}),u+=Vt};function wt(e,t,n){const l=e.slice();l[24]=t[n];const s=l[1];return l[25]=s,l}function Rt(e,t,n){const l=e.slice();l[24]=t[n];const s=l[1]+l[24].rootIntervalToIonian-l[3].rootIntervalToIonian;return l[25]=s,l}function Gt(e,t,n){const l=e.slice();return l[30]=t[n],l}function Ut(e,t,n){const l=e.slice();l[33]=t[n],l[38]=n;const s=l[0]?l[10](l[3].scale[H(l[38]-l[2].modes.findIndex(_=>_===l[3]),l[3].scale.length)].semitonesFromRoot+l[1],l[6]):l[10](l[33].semitonesFromRoot+l[1],l[6]);l[34]=s;const u=l[11](l[33],l[1],l[7]);l[35]=u;const c=l[11](l[33],l[1],l[8]);return l[36]=c,l}function Xt(e,t,n){const l=e.slice();l[39]=t[n],l[38]=n;const s=l[10](l[38],l[6]);return l[34]=s,l}function jt(e){let t,n,l,s,u=e[9](e[39])+"",c,_;return{c(){t=le("g"),n=le("circle"),s=le("text"),c=E(u),this.h()},l(a){t=ne(a,"g",{});var f=b(t);n=ne(f,"circle",{style:!0,cx:!0,cy:!0,r:!0,transform:!0,stroke:!0,fill:!0}),b(n).forEach(d),s=ne(f,"text",{x:!0,y:!0,class:!0,"text-anchor":!0,dy:!0});var m=b(s);c=N(m,u),m.forEach(d),f.forEach(d),this.h()},h(){Je(n,"stroke-width","1.6871"),Je(n,"stroke-miterlimit","10"),h(n,"cx",0),h(n,"cy",0),h(n,"r",30),h(n,"transform",`translate(${e[34].x} ${e[34].y})`),h(n,"stroke","transparent"),h(n,"fill",l=e[38]===e[1]?"yellow":"var(--base-background-color)"),h(s,"x",e[34].x),h(s,"y",e[34].y),h(s,"class",_=ue(`svgNoteName ${e[12](e[38],e[1],e[3].scale)?"svgSelectedNoteName":""}`)+" svelte-44cbht"),h(s,"text-anchor","middle"),h(s,"dy",".3em")},m(a,f){ae(a,t,f),r(t,n),r(t,s),r(s,c)},p(a,f){f[0]&2&&l!==(l=a[38]===a[1]?"yellow":"var(--base-background-color)")&&h(n,"fill",l),f[0]&10&&_!==(_=ue(`svgNoteName ${a[12](a[38],a[1],a[3].scale)?"svgSelectedNoteName":""}`)+" svelte-44cbht")&&h(s,"class",_)},d(a){a&&d(t)}}}function Ht(e){let t,n,l,s,u=e[33].label+"",c,_,a,f=qt(e[33],e[38])+"",m,P;return{c(){t=le("circle"),l=le("g"),s=le("text"),c=E(u),a=le("text"),m=E(f),this.h()},l(I){t=ne(I,"circle",{style:!0,cx:!0,cy:!0,r:!0,transform:!0,stroke:!0,fill:!0,class:!0}),b(t).forEach(d),l=ne(I,"g",{class:!0});var g=b(l);s=ne(g,"text",{x:!0,y:!0,"text-anchor":!0,dy:!0,transform:!0,class:!0});var v=b(s);c=N(v,u),v.forEach(d),a=ne(g,"text",{x:!0,y:!0,"text-anchor":!0,dy:!0,transform:!0,class:!0});var y=b(a);m=N(y,f),y.forEach(d),g.forEach(d),this.h()},h(){Je(t,"stroke-width","1.6871"),Je(t,"stroke-miterlimit","10"),h(t,"cx",0),h(t,"cy",0),h(t,"r",30),h(t,"transform",n=`translate(${e[34].x} ${e[34].y})`),h(t,"stroke","black"),h(t,"fill","transparent"),h(t,"class","transitionAll svelte-44cbht"),h(s,"x",0),h(s,"y",0),h(s,"text-anchor","middle"),h(s,"dy",".3em"),h(s,"transform",_=`translate(${e[35].x} ${e[35].y})`),h(s,"class","svgNoteName scaleNote transitionAll svelte-44cbht"),h(a,"x",0),h(a,"y",0),h(a,"text-anchor","middle"),h(a,"dy",".3em"),h(a,"transform",P=`translate(${e[36].x} ${e[36].y})`),h(a,"class","svgNoteName scaleNote transitionAll svelte-44cbht"),h(l,"class","transitionNote")},m(I,g){ae(I,t,g),ae(I,l,g),r(l,s),r(s,c),r(l,a),r(a,m)},p(I,g){g[0]&15&&n!==(n=`translate(${I[34].x} ${I[34].y})`)&&h(t,"transform",n),g[0]&8&&u!==(u=I[33].label+"")&&Q(c,u),g[0]&10&&_!==(_=`translate(${I[35].x} ${I[35].y})`)&&h(s,"transform",_),g[0]&8&&f!==(f=qt(I[33],I[38])+"")&&Q(m,f),g[0]&10&&P!==(P=`translate(${I[36].x} ${I[36].y})`)&&h(a,"transform",P)},d(I){I&&d(t),I&&d(l)}}}function Jt(e){let t,n=e[30].label+"",l,s,u,c,_;function a(){return e[15](e[30])}return{c(){t=T("button"),l=E(n),s=C(),this.h()},l(f){t=k(f,"BUTTON",{class:!0});var m=b(t);l=N(m,n),s=F(m),m.forEach(d),this.h()},h(){h(t,"class",u=ue(e[2]===e[30]?"selectedTab":"")+" svelte-44cbht")},m(f,m){ae(f,t,m),r(t,l),r(t,s),c||(_=W(t,"click",a),c=!0)},p(f,m){e=f,m[0]&4&&u!==(u=ue(e[2]===e[30]?"selectedTab":"")+" svelte-44cbht")&&h(t,"class",u)},d(f){f&&d(t),c=!1,_()}}}function zt(e){let t,n,l=e[9](p[H(e[25],p.length)])+"",s,u,c=e[24].name+"",_,a,f,m,P;function I(){return e[16](e[24],e[25])}return{c(){t=T("button"),n=T("span"),s=E(l),u=C(),_=E(c),a=C(),this.h()},l(g){t=k(g,"BUTTON",{class:!0});var v=b(t);n=k(v,"SPAN",{class:!0});var y=b(n);s=N(y,l),y.forEach(d),u=F(v),_=N(v,c),a=F(v),v.forEach(d),this.h()},h(){h(n,"class","noteLabel svelte-44cbht"),h(t,"class",f=ue(e[24]===e[3]&&e[0]?"selectedTab":"")+" svelte-44cbht")},m(g,v){ae(g,t,v),r(t,n),r(n,s),r(t,u),r(t,_),r(t,a),m||(P=W(t,"click",I),m=!0)},p(g,v){e=g,v[0]&14&&l!==(l=e[9](p[H(e[25],p.length)])+"")&&Q(s,l),v[0]&4&&c!==(c=e[24].name+"")&&Q(_,c),v[0]&13&&f!==(f=ue(e[24]===e[3]&&e[0]?"selectedTab":"")+" svelte-44cbht")&&h(t,"class",f)},d(g){g&&d(t),m=!1,P()}}}function $t(e){let t,n,l=e[9](p[H(e[25],p.length)])+"",s,u,c=e[24].name+"",_,a,f,m,P;function I(){return e[17](e[24],e[25])}return{c(){t=T("button"),n=T("span"),s=E(l),u=C(),_=E(c),a=C(),this.h()},l(g){t=k(g,"BUTTON",{class:!0});var v=b(t);n=k(v,"SPAN",{class:!0});var y=b(n);s=N(y,l),y.forEach(d),u=F(v),_=N(v,c),a=F(v),v.forEach(d),this.h()},h(){h(n,"class","noteLabel svelte-44cbht"),h(t,"class",f=ue(e[24]===e[3]&&!e[0]?"selectedTab":"")+" svelte-44cbht")},m(g,v){ae(g,t,v),r(t,n),r(n,s),r(t,u),r(t,_),r(t,a),m||(P=W(t,"click",I),m=!0)},p(g,v){e=g,v[0]&2&&l!==(l=e[9](p[H(e[25],p.length)])+"")&&Q(s,l),v[0]&4&&c!==(c=e[24].name+"")&&Q(_,c),v[0]&13&&f!==(f=ue(e[24]===e[3]&&!e[0]?"selectedTab":"")+" svelte-44cbht")&&h(t,"class",f)},d(g){g&&d(t),m=!1,P()}}}function El(e){let t,n=e[9](p[H(e[1],p.length)])+"",l,s,u=e[3].name+"",c,_,a,f,m,P,I,g,v,y,U,Te,$,K,se=e[9](p[H(e[1],p.length)])+"",De,Be,oe,Ve,qe,re,M,A,X,Y,Z,ce,$e,Oe=e[2].label+"",we,Ke,We,Qe,Ae,ie,ke,Ye,Ze,xe,Ie,J,fe,et,tt,_e,lt,nt,de,at,st,ve,ot,rt,ye,Ee,te,me,ct,it,ge,Re,ht,ut,pe,ft,_t,pt,Ne=[...p],L=[];for(let i=0;i<Ne.length;i+=1)L[i]=jt(Xt(e,Ne,i));let Se=[...e[3].scale],B=[];for(let i=0;i<Se.length;i+=1)B[i]=Ht(Ut(e,Se,i));let Me=mt,V=[];for(let i=0;i<Me.length;i+=1)V[i]=Jt(Gt(e,Me,i));let Ce=e[2].modes,q=[];for(let i=0;i<Ce.length;i+=1)q[i]=zt(Rt(e,Ce,i));let Fe=e[2].modes,w=[];for(let i=0;i<Fe.length;i+=1)w[i]=$t(wt(e,Fe,i));return{c(){t=T("h1"),l=E(n),s=C(),c=E(u),_=C(),a=T("div"),f=le("svg"),m=le("circle");for(let i=0;i<L.length;i+=1)L[i].c();P=Lt();for(let i=0;i<B.length;i+=1)B[i].c();I=C(),g=T("div"),v=T("div"),y=E(`Root note
			`),U=T("button"),Te=E("-"),$=C(),K=T("span"),De=E(se),Be=C(),oe=T("button"),Ve=E("+"),qe=C(),re=T("div"),M=E(`Mode type
			`);for(let i=0;i<V.length;i+=1)V[i].c();A=C(),X=T("div"),Y=T("div"),Z=T("div"),ce=T("h2"),$e=E("Equivalent "),we=E(Oe),Ke=E(" modes"),We=C();for(let i=0;i<q.length;i+=1)q[i].c();Qe=C(),Ae=T("div"),ie=T("div"),ke=T("h2"),Ye=E("Modes by modification"),Ze=C();for(let i=0;i<w.length;i+=1)w[i].c();xe=C(),Ie=T("div"),J=T("div"),fe=T("button"),et=E("▶ Scale"),tt=C(),_e=T("button"),lt=E("▶ Scale + Pedal"),nt=C(),de=T("button"),at=E("▶ Scale + Drone"),st=C(),ve=T("button"),ot=E("▶ Jam"),rt=C(),ye=T("div"),Ee=T("div"),te=T("div"),me=T("button"),ct=E("-"),it=C(),ge=T("span"),Re=E(e[4]),ht=E(" bpm"),ut=C(),pe=T("button"),ft=E("+"),this.h()},l(i){t=k(i,"H1",{class:!0});var S=b(t);l=N(S,n),s=F(S),c=N(S,u),S.forEach(d),_=F(i),a=k(i,"DIV",{class:!0,"data-sveltekit-preload-data":!0});var o=b(a);f=ne(o,"svg",{id:!0,viewBox:!0,xmlns:!0,class:!0});var D=b(f);m=ne(D,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,class:!0}),b(m).forEach(d);for(let O=0;O<L.length;O+=1)L[O].l(D);P=Lt();for(let O=0;O<B.length;O+=1)B[O].l(D);D.forEach(d),I=F(o),g=k(o,"DIV",{class:!0});var x=b(g);v=k(x,"DIV",{});var be=b(v);y=N(be,`Root note
			`),U=k(be,"BUTTON",{class:!0});var bt=b(U);Te=N(bt,"-"),bt.forEach(d),$=F(be),K=k(be,"SPAN",{class:!0});var Tt=b(K);De=N(Tt,se),Tt.forEach(d),Be=F(be),oe=k(be,"BUTTON",{class:!0});var kt=b(oe);Ve=N(kt,"+"),kt.forEach(d),be.forEach(d),qe=F(x),re=k(x,"DIV",{});var dt=b(re);M=N(dt,`Mode type
			`);for(let O=0;O<V.length;O+=1)V[O].l(dt);dt.forEach(d),A=F(x),X=k(x,"DIV",{});var Ge=b(X);Y=k(Ge,"DIV",{});var It=b(Y);Z=k(It,"DIV",{});var Ue=b(Z);ce=k(Ue,"H2",{class:!0});var Xe=b(ce);$e=N(Xe,"Equivalent "),we=N(Xe,Oe),Ke=N(Xe," modes"),Xe.forEach(d),We=F(Ue);for(let O=0;O<q.length;O+=1)q[O].l(Ue);Ue.forEach(d),It.forEach(d),Qe=F(Ge),Ae=k(Ge,"DIV",{});var yt=b(Ae);ie=k(yt,"DIV",{});var je=b(ie);ke=k(je,"H2",{class:!0});var Et=b(ke);Ye=N(Et,"Modes by modification"),Et.forEach(d),Ze=F(je);for(let O=0;O<w.length;O+=1)w[O].l(je);je.forEach(d),yt.forEach(d),Ge.forEach(d),xe=F(x),Ie=k(x,"DIV",{class:!0});var Nt=b(Ie);J=k(Nt,"DIV",{class:!0});var he=b(J);fe=k(he,"BUTTON",{class:!0});var St=b(fe);et=N(St,"▶ Scale"),St.forEach(d),tt=F(he),_e=k(he,"BUTTON",{class:!0});var Mt=b(_e);lt=N(Mt,"▶ Scale + Pedal"),Mt.forEach(d),nt=F(he),de=k(he,"BUTTON",{class:!0});var Ct=b(de);at=N(Ct,"▶ Scale + Drone"),Ct.forEach(d),st=F(he),ve=k(he,"BUTTON",{class:!0});var Ft=b(ve);ot=N(Ft,"▶ Jam"),Ft.forEach(d),he.forEach(d),Nt.forEach(d),rt=F(x),ye=k(x,"DIV",{class:!0});var Pt=b(ye);Ee=k(Pt,"DIV",{class:!0});var Dt=b(Ee);te=k(Dt,"DIV",{});var Pe=b(te);me=k(Pe,"BUTTON",{class:!0});var Ot=b(me);ct=N(Ot,"-"),Ot.forEach(d),it=F(Pe),ge=k(Pe,"SPAN",{class:!0});var vt=b(ge);Re=N(vt,e[4]),ht=N(vt," bpm"),vt.forEach(d),ut=F(Pe),pe=k(Pe,"BUTTON",{class:!0});var At=b(pe);ft=N(At,"+"),At.forEach(d),Pe.forEach(d),Dt.forEach(d),Pt.forEach(d),x.forEach(d),o.forEach(d),this.h()},h(){h(t,"class","svelte-44cbht"),h(m,"cx",e[5].xCentre),h(m,"cy",e[5].yCentre),h(m,"r",e[5].radius),h(m,"stroke","grey"),h(m,"stroke-width",1),h(m,"fill","var(--base-background-color)"),h(m,"class","background svelte-44cbht"),h(f,"id","boxOfNotes"),h(f,"viewBox","0 0 800 800"),h(f,"xmlns","http://www.w3.org/2000/svg"),h(f,"class","svelte-44cbht"),h(U,"class","svelte-44cbht"),h(K,"class","noteLabel svelte-44cbht"),h(oe,"class","svelte-44cbht"),h(ce,"class","svelte-44cbht"),h(ke,"class","svelte-44cbht"),h(fe,"class","svelte-44cbht"),h(_e,"class","svelte-44cbht"),h(de,"class","svelte-44cbht"),h(ve,"class","svelte-44cbht"),h(J,"class","svelte-44cbht"),h(Ie,"class","musicControls svelte-44cbht"),h(me,"class","svelte-44cbht"),h(ge,"class","noteLabel svelte-44cbht"),h(pe,"class","svelte-44cbht"),h(Ee,"class","svelte-44cbht"),h(ye,"class","musicControls svelte-44cbht"),h(g,"class","boxOfButtons svelte-44cbht"),h(a,"class","appContainer svelte-44cbht"),h(a,"data-sveltekit-preload-data","hover")},m(i,S){ae(i,t,S),r(t,l),r(t,s),r(t,c),ae(i,_,S),ae(i,a,S),r(a,f),r(f,m);for(let o=0;o<L.length;o+=1)L[o].m(f,null);r(f,P);for(let o=0;o<B.length;o+=1)B[o].m(f,null);r(a,I),r(a,g),r(g,v),r(v,y),r(v,U),r(U,Te),r(v,$),r(v,K),r(K,De),r(v,Be),r(v,oe),r(oe,Ve),r(g,qe),r(g,re),r(re,M);for(let o=0;o<V.length;o+=1)V[o].m(re,null);r(g,A),r(g,X),r(X,Y),r(Y,Z),r(Z,ce),r(ce,$e),r(ce,we),r(ce,Ke),r(Z,We);for(let o=0;o<q.length;o+=1)q[o].m(Z,null);r(X,Qe),r(X,Ae),r(Ae,ie),r(ie,ke),r(ke,Ye),r(ie,Ze);for(let o=0;o<w.length;o+=1)w[o].m(ie,null);r(g,xe),r(g,Ie),r(Ie,J),r(J,fe),r(fe,et),r(J,tt),r(J,_e),r(_e,lt),r(J,nt),r(J,de),r(de,at),r(J,st),r(J,ve),r(ve,ot),r(g,rt),r(g,ye),r(ye,Ee),r(Ee,te),r(te,me),r(me,ct),r(te,it),r(te,ge),r(ge,Re),r(ge,ht),r(te,ut),r(te,pe),r(pe,ft),_t||(pt=[W(U,"click",e[13]),W(oe,"click",e[14]),W(fe,"click",e[18]),W(_e,"click",e[19]),W(de,"click",e[20]),W(ve,"click",e[21]),W(me,"click",e[22]),W(pe,"click",e[23])],_t=!0)},p(i,S){if(S[0]&2&&n!==(n=i[9](p[H(i[1],p.length)])+"")&&Q(l,n),S[0]&8&&u!==(u=i[3].name+"")&&Q(c,u),S[0]&5706){Ne=[...p];let o;for(o=0;o<Ne.length;o+=1){const D=Xt(i,Ne,o);L[o]?L[o].p(D,S):(L[o]=jt(D),L[o].c(),L[o].m(f,P))}for(;o<L.length;o+=1)L[o].d(1);L.length=Ne.length}if(S[0]&3535){Se=[...i[3].scale];let o;for(o=0;o<Se.length;o+=1){const D=Ut(i,Se,o);B[o]?B[o].p(D,S):(B[o]=Ht(D),B[o].c(),B[o].m(f,null))}for(;o<B.length;o+=1)B[o].d(1);B.length=Se.length}if(S[0]&2&&se!==(se=i[9](p[H(i[1],p.length)])+"")&&Q(De,se),S[0]&12){Me=mt;let o;for(o=0;o<Me.length;o+=1){const D=Gt(i,Me,o);V[o]?V[o].p(D,S):(V[o]=Jt(D),V[o].c(),V[o].m(re,null))}for(;o<V.length;o+=1)V[o].d(1);V.length=Me.length}if(S[0]&4&&Oe!==(Oe=i[2].label+"")&&Q(we,Oe),S[0]&527){Ce=i[2].modes;let o;for(o=0;o<Ce.length;o+=1){const D=Rt(i,Ce,o);q[o]?q[o].p(D,S):(q[o]=zt(D),q[o].c(),q[o].m(Z,null))}for(;o<q.length;o+=1)q[o].d(1);q.length=Ce.length}if(S[0]&527){Fe=i[2].modes;let o;for(o=0;o<Fe.length;o+=1){const D=wt(i,Fe,o);w[o]?w[o].p(D,S):(w[o]=$t(D),w[o].c(),w[o].m(ie,null))}for(;o<w.length;o+=1)w[o].d(1);w.length=Fe.length}S[0]&16&&Q(Re,i[4])},i:Bt,o:Bt,d(i){i&&d(t),i&&d(_),i&&d(a),Le(L,i),Le(B,i),Le(V,i),Le(q,i),Le(w,i),_t=!1,Yt(pt)}}}function Nl(e,t,n){const l={xCentre:400,yCentre:400,radius:300};let s=!0;const u={...l,radius:l.radius},c={...l,radius:l.radius-70},_={...l,radius:l.radius+70};let a=0,f=mt[0],m=f.modes[0];const P=M=>M.preferSharp?M.sharpNote:M.flatNote,I=(M,A)=>({x:A.xCentre+A.radius*Math.cos(M*2*Math.PI/p.length-.5*Math.PI),y:A.yCentre+A.radius*Math.sin(M*2*Math.PI/p.length-.5*Math.PI)}),g=(M,A,X)=>({x:X.xCentre+X.radius*Math.cos((M.semitonesFromRoot+A)*2*Math.PI/p.length-.5*Math.PI),y:X.yCentre+X.radius*Math.sin((M.semitonesFromRoot+A)*2*Math.PI/p.length-.5*Math.PI)}),v=(M,A,X)=>{let Y=H(M-A,p.length);return Y<0&&(Y=Y+p.length),X.some(Z=>Z.semitonesFromRoot===Y)};let y=90;return[s,a,f,m,y,l,u,c,_,P,I,g,v,()=>{n(1,a=a-1),a<0&&n(1,a=a+12)},()=>{n(1,a=a+1),a>=12&&n(1,a=a-12)},M=>{f!==M&&(n(2,f=M),n(3,m=M.modes[0]))},(M,A)=>{n(3,m=M),n(1,a=H(A,p.length)),n(0,s=!0)},(M,A)=>{n(3,m=M),n(1,a=H(A,p.length)),n(0,s=!1)},()=>{kl(m.scale,a,60*1e3/y)},()=>{Tl(m.scale,a,60*1e3/y)},()=>{Il(m.scale,a,60*1e3/y)},()=>{yl(m.scale,a,xt.diatonic,60*1e3/y)},()=>{y>10&&n(4,y=y-20)},()=>{n(4,y=y+20)}]}class Ml extends Kt{constructor(t){super(),Wt(this,t,Nl,El,Qt,{},null,[-1,-1])}}export{Ml as default};

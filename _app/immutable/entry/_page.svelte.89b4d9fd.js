import{S as H,i as J,s as K,k as R,J as b,e as j,a as L,l as w,m as y,K as k,h as d,c as T,n as s,b as E,G as N,L as x,M as U,N as V,H as C,O as $,q,r as O,p as S,P as M}from"../chunks/index.9a8fc924.js";const F=[{sharpNote:"C",flatNote:"C"},{sharpNote:"C#",flatNote:"D♭",preferSharp:!0},{sharpNote:"D",flatNote:"D"},{sharpNote:"D#",flatNote:"E♭",preferSharp:!1},{sharpNote:"E",flatNote:"E"},{sharpNote:"F",flatNote:"F"},{sharpNote:"F#",flatNote:"G♭",preferSharp:!0},{sharpNote:"G",flatNote:"G"},{sharpNote:"G#",flatNote:"A♭",preferSharp:!1},{sharpNote:"A",flatNote:"A"},{sharpNote:"A#",flatNote:"B♭",preferSharp:!1},{sharpNote:"A",flatNote:"B"}],P=[{semitonesFromRoot:0,label:"I"},{semitonesFromRoot:2,label:"ii"},{semitonesFromRoot:4,label:"iii"},{semitonesFromRoot:5,label:"IV"},{semitonesFromRoot:7,label:"V"},{semitonesFromRoot:9,label:"vi"},{semitonesFromRoot:11,label:"vii"}];function A(l,r,e){const o=l.slice();return o[7]=r[e],o}function D(l,r,e){const o=l.slice();return o[10]=r[e],o[12]=e,o}function G(l){let r,e,o,i,_=l[2](l[10])+"",m,p;return{c(){r=b("g"),e=b("circle"),i=b("text"),m=q(_),this.h()},l(c){r=k(c,"g",{});var u=y(r);e=k(u,"circle",{style:!0,cx:!0,cy:!0,r:!0,stroke:!0,class:!0}),y(e).forEach(d),i=k(u,"text",{x:!0,y:!0,class:!0,"text-anchor":!0,dy:!0});var t=y(i);m=O(t,_),t.forEach(d),u.forEach(d),this.h()},h(){S(e,"fill","url(#toning)"),S(e,"stroke-width","1.6871"),S(e,"stroke-miterlimit","10"),s(e,"cx",l[3](l[12]).x),s(e,"cy",l[3](l[12]).y),s(e,"r",30),s(e,"stroke","black"),s(e,"class",o=M(l[5](l[12],l[0])?"visible":"hidden")+" svelte-1jd8gna"),s(i,"x",l[3](l[12]).x),s(i,"y",l[3](l[12]).y),s(i,"class",p=M(`svgNoteName ${l[5](l[12],l[0])?"svgSelectedNoteName":""}`)+" svelte-1jd8gna"),s(i,"text-anchor","middle"),s(i,"dy",".3em")},m(c,u){E(c,r,u),N(r,e),N(r,i),N(i,m)},p(c,u){u&1&&o!==(o=M(c[5](c[12],c[0])?"visible":"hidden")+" svelte-1jd8gna")&&s(e,"class",o),u&1&&p!==(p=M(`svgNoteName ${c[5](c[12],c[0])?"svgSelectedNoteName":""}`)+" svelte-1jd8gna")&&s(i,"class",p)},d(c){c&&d(r)}}}function B(l){let r,e,o,i,_,m=l[7].label+"",p,c,u;return{c(){r=b("g"),e=b("circle"),_=b("text"),p=q(m),this.h()},l(t){r=k(t,"g",{});var f=y(r);e=k(f,"circle",{style:!0,cx:!0,cy:!0,r:!0,stroke:!0,class:!0}),y(e).forEach(d),_=k(f,"text",{x:!0,y:!0,"text-anchor":!0,dy:!0,class:!0});var h=y(_);p=O(h,m),h.forEach(d),f.forEach(d),this.h()},h(){S(e,"fill","url(#toning)"),S(e,"stroke-width","1.6871"),S(e,"stroke-miterlimit","10"),s(e,"cx",o=l[4](l[7],l[0]).x),s(e,"cy",i=l[4](l[7],l[0]).y),s(e,"r",30),s(e,"stroke","black"),s(e,"class","hidden svelte-1jd8gna"),s(_,"x",c=l[4](l[7],l[0]).x),s(_,"y",u=l[4](l[7],l[0]).y),s(_,"text-anchor","middle"),s(_,"dy",".3em"),s(_,"class","svgNoteName scaleNote svelte-1jd8gna")},m(t,f){E(t,r,f),N(r,e),N(r,_),N(_,p)},p(t,f){f&1&&o!==(o=t[4](t[7],t[0]).x)&&s(e,"cx",o),f&1&&i!==(i=t[4](t[7],t[0]).y)&&s(e,"cy",i),f&1&&c!==(c=t[4](t[7],t[0]).x)&&s(_,"x",c),f&1&&u!==(u=t[4](t[7],t[0]).y)&&s(_,"y",u)},d(t){t&&d(r)}}}function z(l){let r,e,o,i,_,m,p,c,u=[...F],t=[];for(let n=0;n<u.length;n+=1)t[n]=G(D(l,u,n));let f=[...P],h=[];for(let n=0;n<f.length;n+=1)h[n]=B(A(l,f,n));return{c(){r=R("div"),e=b("svg"),o=b("circle");for(let n=0;n<t.length;n+=1)t[n].c();i=j();for(let n=0;n<h.length;n+=1)h[n].c();_=L(),m=R("input"),this.h()},l(n){r=w(n,"DIV",{class:!0,"data-sveltekit-preload-data":!0});var v=y(r);e=k(v,"svg",{id:!0,viewBox:!0,xmlns:!0,class:!0});var a=y(e);o=k(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,fill:!0}),y(o).forEach(d);for(let g=0;g<t.length;g+=1)t[g].l(a);i=j();for(let g=0;g<h.length;g+=1)h[g].l(a);a.forEach(d),_=T(v),m=w(v,"INPUT",{type:!0,min:!0,max:!0}),v.forEach(d),this.h()},h(){s(o,"cx",l[1].x),s(o,"cy",l[1].y),s(o,"r",I+30),s(o,"stroke","black"),s(o,"fill","transparent"),s(e,"id","boxOfNotes"),s(e,"viewBox","0 0 800 800"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"class","svelte-1jd8gna"),s(m,"type","number"),s(m,"min",0),s(m,"max",11),s(r,"class","appContainer svelte-1jd8gna"),s(r,"data-sveltekit-preload-data","hover")},m(n,v){E(n,r,v),N(r,e),N(e,o);for(let a=0;a<t.length;a+=1)t[a].m(e,null);N(e,i);for(let a=0;a<h.length;a+=1)h[a].m(e,null);N(r,_),N(r,m),x(m,l[0]),p||(c=U(m,"input",l[6]),p=!0)},p(n,[v]){if(v&45){u=[...F];let a;for(a=0;a<u.length;a+=1){const g=D(n,u,a);t[a]?t[a].p(g,v):(t[a]=G(g),t[a].c(),t[a].m(e,i))}for(;a<t.length;a+=1)t[a].d(1);t.length=u.length}if(v&17){f=[...P];let a;for(a=0;a<f.length;a+=1){const g=A(n,f,a);h[a]?h[a].p(g,v):(h[a]=B(g),h[a].c(),h[a].m(e,null))}for(;a<h.length;a+=1)h[a].d(1);h.length=f.length}v&1&&V(m.value)!==n[0]&&x(m,n[0])},i:C,o:C,d(n){n&&d(r),$(t,n),$(h,n),p=!1,c()}}}const I=330;function Q(l,r,e){const o={x:400,y:400};let i=4;const _=t=>t.preferSharp?t.sharpNote:t.flatNote,m=t=>({x:o.x+(I-10)*Math.cos(t*2*Math.PI/F.length-.5*Math.PI),y:o.y+(I-10)*Math.sin(t*2*Math.PI/F.length-.5*Math.PI)}),p=(t,f)=>({x:o.x+(I-80)*Math.cos((t.semitonesFromRoot+f)*2*Math.PI/F.length-.5*Math.PI),y:o.y+(I-80)*Math.sin((t.semitonesFromRoot+f)*2*Math.PI/F.length-.5*Math.PI)}),c=(t,f)=>{let h=t-f;return h<0&&(h=h+F.length),P.some(n=>n.semitonesFromRoot===h)};function u(){i=V(this.value),e(0,i)}return[i,o,_,m,p,c,u]}class X extends H{constructor(r){super(),J(this,r,Q,z,K,{})}}export{X as default};

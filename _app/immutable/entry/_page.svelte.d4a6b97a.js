import{S as He,i as Ue,s as ze,k as C,q as X,a as R,J as z,e as Le,l as E,m as N,r as w,c as B,h as _,K as J,n as r,b as K,G as c,L as ve,u as Y,H as Xe,M as de,N as Je,O as re,p as we}from"../chunks/index.9fc21f1b.js";const V=(t,l)=>{const s=t%l;return s<0?s+l:s},Ke=t=>{if(isNaN(t))return"NaN";const l=String(+t).split("")??[],s=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];let e="",n=3;for(;n--;)e=(s[+(l.pop()??"")+n*10]||"")+e;return Array(+l.join("")+1).join("M")+e},p=[{sharpNote:"C",flatNote:"C"},{sharpNote:"C#",flatNote:"D♭",preferSharp:!0},{sharpNote:"D",flatNote:"D"},{sharpNote:"D#",flatNote:"E♭",preferSharp:!1},{sharpNote:"E",flatNote:"E"},{sharpNote:"F",flatNote:"F"},{sharpNote:"F#",flatNote:"G♭",preferSharp:!0},{sharpNote:"G",flatNote:"G"},{sharpNote:"G#",flatNote:"A♭",preferSharp:!1},{sharpNote:"A",flatNote:"A"},{sharpNote:"A#",flatNote:"B♭",preferSharp:!1},{sharpNote:"A",flatNote:"B"}],O=[2,2,1,2,2,2,1],j=(t,l,s)=>{let e=0;for(let n=t;n<l;n++)e+=s[V(n,s.length)];return e},Qe=(t,l)=>t===4&&l===7?"major":t===3&&l===7?"minor":t===3&&l===6?"diminished":"bizarre",We=(t,l,s)=>{const e=Ke(V(t+1,s.length+1)),n=t+l,d=Qe(j(n,n+2,s),j(n,n+4,s));return d==="major"?e:d==="minor"?e.toLowerCase():d==="diminished"?`${e.toLowerCase()}°`:e},Z=t=>{const l=[];for(let s=0;s<O.length;s++)l.push({semitonesFromRoot:j(t,t+s,O),label:We(s,t,O)});return l},Ye=Z(0),Ze=Z(1),xe=Z(2),et=Z(3),tt=Z(4),lt=Z(5),st=Z(6),ne=[{name:"Ionian / Major",scale:Ye,rootIntervalToIonian:j(0,0,O)},{name:"Dorian",scale:Ze,rootIntervalToIonian:j(0,1,O)},{name:"Phrygian",scale:xe,rootIntervalToIonian:j(0,2,O)},{name:"Lydian",scale:et,rootIntervalToIonian:j(0,3,O)},{name:"Mixolydian",scale:tt,rootIntervalToIonian:j(0,4,O)},{name:"Aeolian / Natural Minor",scale:lt,rootIntervalToIonian:j(0,5,O)},{name:"Locrian",scale:st,rootIntervalToIonian:j(0,6,O)}],Ve=(t,l)=>{const s=l+1,e=t.semitonesFromRoot-j(0,l,O);if(e===1)return`A${s}`;if([1,4,5].includes(s)){if(e===0)return`P${s}`;if(e===-1)return`d${s}`}if(e===0)return`M${s}`;if(e===-1)return`m${s}`;if(e===-2)return`d${s}`};function Fe(t,l,s){const e=t.slice();e[15]=l[s];const n=e[1];return e[16]=n,e}function Re(t,l,s){const e=t.slice();e[15]=l[s];const n=e[1]+e[15].rootIntervalToIonian-e[2].rootIntervalToIonian;return e[16]=n,e}function Be(t,l,s){const e=t.slice();e[21]=l[s],e[26]=s;const n=e[0]?e[8](e[2].scale[V(e[26]-ne.findIndex(m=>m===e[2]),e[2].scale.length)].semitonesFromRoot+e[1],e[4]):e[8](e[21].semitonesFromRoot+e[1],e[4]);e[22]=n;const d=e[9](e[21],e[1],e[5]);e[23]=d;const v=e[9](e[21],e[1],e[6]);return e[24]=v,e}function $e(t,l,s){const e=t.slice();e[27]=l[s],e[26]=s;const n=e[8](e[26],e[4]);return e[22]=n,e}function Oe(t){let l,s,e=t[7](t[27])+"",n,d;return{c(){l=z("g"),s=z("text"),n=X(e),this.h()},l(v){l=J(v,"g",{class:!0});var m=N(l);s=J(m,"text",{x:!0,y:!0,class:!0,"text-anchor":!0,dy:!0});var i=N(s);n=w(i,e),i.forEach(_),m.forEach(_),this.h()},h(){r(s,"x",t[22].x),r(s,"y",t[22].y),r(s,"class",d=re(`svgNoteName transitionAll ${t[10](t[26],t[1],t[2].scale)?"svgSelectedNoteName":""}`)+" svelte-5eilh7"),r(s,"text-anchor","middle"),r(s,"dy",".3em"),r(l,"class","transitionAll svelte-5eilh7")},m(v,m){K(v,l,m),c(l,s),c(s,n)},p(v,m){m&6&&d!==(d=re(`svgNoteName transitionAll ${v[10](v[26],v[1],v[2].scale)?"svgSelectedNoteName":""}`)+" svelte-5eilh7")&&r(s,"class",d)},d(v){v&&_(l)}}}function je(t){let l,s,e,n,d=t[21].label+"",v,m,i,f=Ve(t[21],t[26])+"",I,S;return{c(){l=z("circle"),e=z("g"),n=z("text"),v=X(d),i=z("text"),I=X(f),this.h()},l(g){l=J(g,"circle",{style:!0,cx:!0,cy:!0,r:!0,transform:!0,stroke:!0,fill:!0,class:!0}),N(l).forEach(_),e=J(g,"g",{class:!0});var h=N(e);n=J(h,"text",{x:!0,y:!0,"text-anchor":!0,dy:!0,transform:!0,class:!0});var u=N(n);v=w(u,d),u.forEach(_),i=J(h,"text",{x:!0,y:!0,"text-anchor":!0,dy:!0,transform:!0,class:!0});var F=N(i);I=w(F,f),F.forEach(_),h.forEach(_),this.h()},h(){we(l,"stroke-width","1.6871"),we(l,"stroke-miterlimit","10"),r(l,"cx",0),r(l,"cy",0),r(l,"r",30),r(l,"transform",s=`translate(${t[22].x} ${t[22].y})`),r(l,"stroke","black"),r(l,"fill","transparent"),r(l,"class","transitionAll svelte-5eilh7"),r(n,"x",0),r(n,"y",0),r(n,"text-anchor","middle"),r(n,"dy",".3em"),r(n,"transform",m=`translate(${t[23].x} ${t[23].y})`),r(n,"class","svgNoteName scaleNote transitionAll svelte-5eilh7"),r(i,"x",0),r(i,"y",0),r(i,"text-anchor","middle"),r(i,"dy",".3em"),r(i,"transform",S=`translate(${t[24].x} ${t[24].y})`),r(i,"class","svgNoteName scaleNote transitionAll svelte-5eilh7"),r(e,"class","transitionNote")},m(g,h){K(g,l,h),K(g,e,h),c(e,n),c(n,v),c(e,i),c(i,I)},p(g,h){h&7&&s!==(s=`translate(${g[22].x} ${g[22].y})`)&&r(l,"transform",s),h&4&&d!==(d=g[21].label+"")&&Y(v,d),h&6&&m!==(m=`translate(${g[23].x} ${g[23].y})`)&&r(n,"transform",m),h&4&&f!==(f=Ve(g[21],g[26])+"")&&Y(I,f),h&6&&S!==(S=`translate(${g[24].x} ${g[24].y})`)&&r(i,"transform",S)},d(g){g&&_(l),g&&_(e)}}}function qe(t){let l,s,e=t[7](p[V(t[16],p.length)])+"",n,d,v=t[15].name+"",m,i,f,I,S;function g(){return t[13](t[15],t[16])}return{c(){l=C("button"),s=C("span"),n=X(e),d=R(),m=X(v),i=R(),this.h()},l(h){l=E(h,"BUTTON",{class:!0});var u=N(l);s=E(u,"SPAN",{class:!0});var F=N(s);n=w(F,e),F.forEach(_),d=B(u),m=w(u,v),i=B(u),u.forEach(_),this.h()},h(){r(s,"class","noteLabel svelte-5eilh7"),r(l,"class",f=re(t[15]===t[2]&&t[0]?"selectedTab":"")+" svelte-5eilh7")},m(h,u){K(h,l,u),c(l,s),c(s,n),c(l,d),c(l,m),c(l,i),I||(S=ve(l,"click",g),I=!0)},p(h,u){t=h,u&6&&e!==(e=t[7](p[V(t[16],p.length)])+"")&&Y(n,e),u&5&&f!==(f=re(t[15]===t[2]&&t[0]?"selectedTab":"")+" svelte-5eilh7")&&r(l,"class",f)},d(h){h&&_(l),I=!1,S()}}}function Ge(t){let l,s,e=t[7](p[V(t[16],p.length)])+"",n,d,v=t[15].name+"",m,i,f,I,S;function g(){return t[14](t[15],t[16])}return{c(){l=C("button"),s=C("span"),n=X(e),d=R(),m=X(v),i=R(),this.h()},l(h){l=E(h,"BUTTON",{class:!0});var u=N(l);s=E(u,"SPAN",{class:!0});var F=N(s);n=w(F,e),F.forEach(_),d=B(u),m=w(u,v),i=B(u),u.forEach(_),this.h()},h(){r(s,"class","noteLabel svelte-5eilh7"),r(l,"class",f=re(t[15]===t[2]&&!t[0]?"selectedTab":"")+" svelte-5eilh7")},m(h,u){K(h,l,u),c(l,s),c(s,n),c(l,d),c(l,m),c(l,i),I||(S=ve(l,"click",g),I=!0)},p(h,u){t=h,u&2&&e!==(e=t[7](p[V(t[16],p.length)])+"")&&Y(n,e),u&5&&f!==(f=re(t[15]===t[2]&&!t[0]?"selectedTab":"")+" svelte-5eilh7")&&r(l,"class",f)},d(h){h&&_(l),I=!1,S()}}}function ot(t){let l,s=t[7](p[V(t[1],p.length)])+"",e,n,d=t[2].name+"",v,m,i,f,I,S,g,h,u,F,G,ue,y,b,$=t[7](p[V(t[1],p.length)])+"",q,ie,Q,me,ge,ce,H,x,pe,Ne,Ie,he,U,ee,be,ke,ye,Ce,te=[...p],M=[];for(let a=0;a<te.length;a+=1)M[a]=Oe($e(t,te,a));let le=[...t[2].scale],P=[];for(let a=0;a<le.length;a+=1)P[a]=je(Be(t,le,a));let se=ne,T=[];for(let a=0;a<se.length;a+=1)T[a]=qe(Re(t,se,a));let oe=ne,D=[];for(let a=0;a<oe.length;a+=1)D[a]=Ge(Fe(t,oe,a));return{c(){l=C("h1"),e=X(s),n=R(),v=X(d),m=R(),i=C("div"),f=z("svg"),I=z("circle");for(let a=0;a<M.length;a+=1)M[a].c();S=Le();for(let a=0;a<P.length;a+=1)P[a].c();g=R(),h=C("div"),u=C("div"),F=X(`Root note
			`),G=C("button"),ue=X("-"),y=R(),b=C("span"),q=X($),ie=R(),Q=C("button"),me=X("+"),ge=R(),ce=C("div"),H=C("div"),x=C("h2"),pe=X("Equivalent modes"),Ne=R();for(let a=0;a<T.length;a+=1)T[a].c();Ie=R(),he=C("div"),U=C("div"),ee=C("h2"),be=X("Modes by modification"),ke=R();for(let a=0;a<D.length;a+=1)D[a].c();this.h()},l(a){l=E(a,"H1",{class:!0});var k=N(l);e=w(k,s),n=B(k),v=w(k,d),k.forEach(_),m=B(a),i=E(a,"DIV",{class:!0,"data-sveltekit-preload-data":!0});var o=N(i);f=J(o,"svg",{id:!0,viewBox:!0,xmlns:!0,class:!0});var A=N(f);I=J(A,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),N(I).forEach(_);for(let L=0;L<M.length;L+=1)M[L].l(A);S=Le();for(let L=0;L<P.length;L+=1)P[L].l(A);A.forEach(_),g=B(o),h=E(o,"DIV",{});var ae=N(h);u=E(ae,"DIV",{});var W=N(u);F=w(W,`Root note
			`),G=E(W,"BUTTON",{class:!0});var Ee=N(G);ue=w(Ee,"-"),Ee.forEach(_),y=B(W),b=E(W,"SPAN",{class:!0});var Se=N(b);q=w(Se,$),Se.forEach(_),ie=B(W),Q=E(W,"BUTTON",{class:!0});var Me=N(Q);me=w(Me,"+"),Me.forEach(_),W.forEach(_),ge=B(ae),ce=E(ae,"DIV",{});var Pe=N(ce);H=E(Pe,"DIV",{});var fe=N(H);x=E(fe,"H2",{class:!0});var Te=N(x);pe=w(Te,"Equivalent modes"),Te.forEach(_),Ne=B(fe);for(let L=0;L<T.length;L+=1)T[L].l(fe);fe.forEach(_),Pe.forEach(_),Ie=B(ae),he=E(ae,"DIV",{});var De=N(he);U=E(De,"DIV",{});var _e=N(U);ee=E(_e,"H2",{class:!0});var Ae=N(ee);be=w(Ae,"Modes by modification"),Ae.forEach(_),ke=B(_e);for(let L=0;L<D.length;L+=1)D[L].l(_e);_e.forEach(_),De.forEach(_),ae.forEach(_),o.forEach(_),this.h()},h(){r(l,"class","svelte-5eilh7"),r(I,"cx",t[3].xCentre),r(I,"cy",t[3].yCentre),r(I,"r",t[3].radius),r(I,"stroke","grey"),r(I,"stroke-width",1),r(I,"fill","transparent"),r(f,"id","boxOfNotes"),r(f,"viewBox","0 0 800 800"),r(f,"xmlns","http://www.w3.org/2000/svg"),r(f,"class","svelte-5eilh7"),r(G,"class","svelte-5eilh7"),r(b,"class","noteLabel svelte-5eilh7"),r(Q,"class","svelte-5eilh7"),r(x,"class","svelte-5eilh7"),r(ee,"class","svelte-5eilh7"),r(i,"class","appContainer svelte-5eilh7"),r(i,"data-sveltekit-preload-data","hover")},m(a,k){K(a,l,k),c(l,e),c(l,n),c(l,v),K(a,m,k),K(a,i,k),c(i,f),c(f,I);for(let o=0;o<M.length;o+=1)M[o].m(f,null);c(f,S);for(let o=0;o<P.length;o+=1)P[o].m(f,null);c(i,g),c(i,h),c(h,u),c(u,F),c(u,G),c(G,ue),c(u,y),c(u,b),c(b,q),c(u,ie),c(u,Q),c(Q,me),c(h,ge),c(h,ce),c(ce,H),c(H,x),c(x,pe),c(H,Ne);for(let o=0;o<T.length;o+=1)T[o].m(H,null);c(h,Ie),c(h,he),c(he,U),c(U,ee),c(ee,be),c(U,ke);for(let o=0;o<D.length;o+=1)D[o].m(U,null);ye||(Ce=[ve(G,"click",t[11]),ve(Q,"click",t[12])],ye=!0)},p(a,[k]){if(k&2&&s!==(s=a[7](p[V(a[1],p.length)])+"")&&Y(e,s),k&4&&d!==(d=a[2].name+"")&&Y(v,d),k&1430){te=[...p];let o;for(o=0;o<te.length;o+=1){const A=$e(a,te,o);M[o]?M[o].p(A,k):(M[o]=Oe(A),M[o].c(),M[o].m(f,S))}for(;o<M.length;o+=1)M[o].d(1);M.length=te.length}if(k&887){le=[...a[2].scale];let o;for(o=0;o<le.length;o+=1){const A=Be(a,le,o);P[o]?P[o].p(A,k):(P[o]=je(A),P[o].c(),P[o].m(f,null))}for(;o<P.length;o+=1)P[o].d(1);P.length=le.length}if(k&2&&$!==($=a[7](p[V(a[1],p.length)])+"")&&Y(q,$),k&135){se=ne;let o;for(o=0;o<se.length;o+=1){const A=Re(a,se,o);T[o]?T[o].p(A,k):(T[o]=qe(A),T[o].c(),T[o].m(H,null))}for(;o<T.length;o+=1)T[o].d(1);T.length=se.length}if(k&135){oe=ne;let o;for(o=0;o<oe.length;o+=1){const A=Fe(a,oe,o);D[o]?D[o].p(A,k):(D[o]=Ge(A),D[o].c(),D[o].m(U,null))}for(;o<D.length;o+=1)D[o].d(1);D.length=oe.length}},i:Xe,o:Xe,d(a){a&&_(l),a&&_(m),a&&_(i),de(M,a),de(P,a),de(T,a),de(D,a),ye=!1,Je(Ce)}}}function at(t,l,s){const e={xCentre:400,yCentre:400,radius:360};let n=!0;const d={...e,radius:e.radius-40},v={...e,radius:e.radius-110},m={...e,radius:e.radius-160};let i=0,f=ne[0];return[n,i,f,e,d,v,m,y=>y.preferSharp?y.sharpNote:y.flatNote,(y,b)=>({x:b.xCentre+b.radius*Math.cos(y*2*Math.PI/p.length-.5*Math.PI),y:b.yCentre+b.radius*Math.sin(y*2*Math.PI/p.length-.5*Math.PI)}),(y,b,$)=>({x:$.xCentre+$.radius*Math.cos((y.semitonesFromRoot+b)*2*Math.PI/p.length-.5*Math.PI),y:$.yCentre+$.radius*Math.sin((y.semitonesFromRoot+b)*2*Math.PI/p.length-.5*Math.PI)}),(y,b,$)=>{let q=V(y-b,p.length);return q<0&&(q=q+p.length),$.some(ie=>ie.semitonesFromRoot===q)},()=>{s(1,i=i-1),i<0&&s(1,i=i+12)},()=>{s(1,i=i+1),i>=12&&s(1,i=i-12)},(y,b)=>{s(2,f=y),s(1,i=V(b,p.length)),s(0,n=!0)},(y,b)=>{s(2,f=y),s(1,i=V(b,p.length)),s(0,n=!1)}]}class rt extends He{constructor(l){super(),Ue(this,l,at,ot,ze,{})}}export{rt as default};

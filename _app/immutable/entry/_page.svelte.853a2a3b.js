import{S as al,i as sl,s as ol,k as T,q as E,a as C,J as ne,e as zt,l as k,m as b,r as N,c as M,h as _,K as ae,n as i,b as se,G as a,L as J,u as K,H as Jt,M as Be,N as rl,p as Ze,O as ue}from"../chunks/index.9fc21f1b.js";const X=(e,t)=>{const n=e%t;return n<0?n+t:n},cl=e=>{if(isNaN(e))return"NaN";const t=String(+e).split("")??[],n=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];let l="",o=3;for(;o--;)l=(n[+(t.pop()??"")+o*10]||"")+l;return Array(+t.join("")+1).join("M")+l},p=[{sharpNote:"C",flatNote:"C",defaultOctaveFrequency:261.63},{sharpNote:"C#",flatNote:"D♭",preferSharp:!0,defaultOctaveFrequency:277.18},{sharpNote:"D",flatNote:"D",defaultOctaveFrequency:293.66},{sharpNote:"D#",flatNote:"E♭",preferSharp:!1,defaultOctaveFrequency:311.13},{sharpNote:"E",flatNote:"E",defaultOctaveFrequency:329.63},{sharpNote:"F",flatNote:"F",defaultOctaveFrequency:349.23},{sharpNote:"F#",flatNote:"G♭",preferSharp:!0,defaultOctaveFrequency:185},{sharpNote:"G",flatNote:"G",defaultOctaveFrequency:196},{sharpNote:"G#",flatNote:"A♭",preferSharp:!1,defaultOctaveFrequency:207.65},{sharpNote:"A",flatNote:"A",defaultOctaveFrequency:220},{sharpNote:"A#",flatNote:"B♭",preferSharp:!1,defaultOctaveFrequency:233.08},{sharpNote:"A",flatNote:"B",defaultOctaveFrequency:246.94}],G=[2,2,1,2,2,2,1],x=[2,2,3,2,3],Ye=[1,256/243,9/8,32/27,81/64,4/3,1024/729,3/2,128/81,27/16,16/9,243/128],R=(e,t,n)=>{let l=0;for(let o=e;o<t;o++)l+=n[X(o,n.length)];return l},il=(e,t)=>e===4&&t===7?"major":e===3&&t===7?"minor":e===3&&t===6?"diminished":"bizarre",hl=(e,t,n)=>{const l=cl(X(e+1,n.length+1)),o=e+t,u=il(R(o,o+2,n),R(o,o+4,n));return u==="major"?l:u==="minor"?l.toLowerCase():u==="diminished"?`${l.toLowerCase()}°`:l},Q=(e,t)=>{const n=[];for(let l=0;l<t.length;l++)n.push({semitonesFromRoot:R(e,e+l,t),label:hl(l,e,t)});return n},Kt=(e,t)=>{const n=t+1,l=e.semitonesFromRoot-R(0,t,G);if(l===1)return`A${n}`;if([1,4,5].includes(n)){if(l===0)return`P${n}`;if(l===-1)return`d${n}`}return l===0?`M${n}`:l===-1?`m${n}`:l===-2?`d${n}`:`${e.semitonesFromRoot}s`},ul=Q(0,G),fl=Q(1,G),_l=Q(2,G),dl=Q(3,G),vl=Q(4,G),ml=Q(5,G),gl=Q(6,G),bl=[{name:"Ionian / Major",scale:ul,rootIntervalToIonian:R(0,0,G)},{name:"Dorian",scale:fl,rootIntervalToIonian:R(0,1,G)},{name:"Phrygian",scale:_l,rootIntervalToIonian:R(0,2,G)},{name:"Lydian",scale:dl,rootIntervalToIonian:R(0,3,G)},{name:"Mixolydian",scale:vl,rootIntervalToIonian:R(0,4,G)},{name:"Aeolian / Natural Minor",scale:ml,rootIntervalToIonian:R(0,5,G)},{name:"Locrian",scale:gl,rootIntervalToIonian:R(0,6,G)}],pl=Q(0,x),Tl=Q(1,x),kl=Q(2,x),yl=Q(3,x),Il=Q(4,x),El=[{name:"Major",scale:pl,rootIntervalToIonian:R(0,0,x)},{name:"Suspended / Egyptian",scale:Tl,rootIntervalToIonian:R(0,1,x)},{name:"Blues minor / Man Gong",scale:kl,rootIntervalToIonian:R(0,2,x)},{name:"Blues major",scale:yl,rootIntervalToIonian:R(0,3,x)},{name:"Minor",scale:Il,rootIntervalToIonian:R(0,4,x)}],St=[{label:"Diatonic",modes:bl},{label:"(Major) Pentatonic",modes:El}],Ct=300,Mt=.75,Nl=1e-6,Sl={attackTime:.1,decayTime:.3,releaseTime:.5,maxSustainTime:.2,maxGain:.1,sustainGainRatio:.1,oscillatorType:"sine"},Cl=(e,t)=>{let n=1;for(;t<0;)t=t+Ye.length,n=n*.5;for(;t>=Ye.length;)t=t-Ye.length,n=n*2;return n=n*Ye[t],e.defaultOctaveFrequency*n},H=(e,t,n,l,o={})=>{const u={...Sl,...o};let{attackTime:h,decayTime:v}={...u};const{releaseTime:r,maxSustainTime:f,maxGain:g,sustainGainRatio:O,oscillatorType:I="triangle"}={...u},m=g*O,d=new AudioContext,y=d.createOscillator(),U=d.createGain(),ye=d.createDynamicsCompressor();U.gain.value=.001,y.type=I,y.frequency.value=Cl(e,t),y.connect(U).connect(ye).connect(d.destination);const W=l-n;h*1e3>W/2&&(h=W/(2*1e3)),(v+h)*1e3>W&&(v=(W-h*1e3)/1e3);const ee=Math.min(f??1e4,W/1e3-h-v);setTimeout(function(){const oe=d.currentTime+h;U.gain.exponentialRampToValueAtTime(g,oe),y.start(),setTimeout(()=>{U.gain.exponentialRampToValueAtTime(m,d.currentTime+v),setTimeout(()=>{U.gain.exponentialRampToValueAtTime(Nl,d.currentTime+r),setTimeout(function(){y.stop(),d.close()},r*1e3+2e3)},ee*1e3)},h*1e3)},n)},Ml=(e,t,n=Ct,l=Mt)=>{const o=n*l,u=n-o,h=n;[...e].forEach((v,r)=>{r===0?H(p[t],v.semitonesFromRoot,r*2*h+u,r*2*h+u+o+h):(H(p[t],0,r*2*h+u,r*2*h+u+o),H(p[t],v.semitonesFromRoot,(r*2+1)*h+u,(r*2+1)*h+u+o))}),H(p[t],0,e.length*2*h+u,e.length*2*h+u+o),H(p[t],p.length,(e.length*2+1)*h+u,(e.length*2+1)*h+u+o)},Pl=(e,t,n=Ct,l=Mt)=>{const o=n*l,u=n-o,h=n;H(p[t],e[0].semitonesFromRoot,u,h+u+o+h),[...e].forEach((v,r)=>{H(p[t],v.semitonesFromRoot,(r+2)*h+u,(r+2)*h+u+o+h)}),H(p[t],p.length,(e.length+2)*h+u,(e.length+2)*h+u+o),[...e].reverse().forEach((v,r)=>{H(p[t],v.semitonesFromRoot,(r+e.length+3)*h+u,(r+e.length+3)*h+u+o+h)})},Dl=(e,t,n=Ct,l=Mt)=>{const o=n*l,u=n-o,h=n;H(p[t],0,u,u+h*(e.length*2+3),{maxSustainTime:h*(e.length*2+2),oscillatorType:"sine",sustainGainRatio:.5,maxGain:.0125}),[...e].forEach((v,r)=>{H(p[t],v.semitonesFromRoot,(r+2)*h+u,(r+2)*h+u+o+h)}),H(p[t],p.length,(e.length+2)*h+u,(e.length+2)*h+u+o),[...e].reverse().forEach((v,r)=>{H(p[t],v.semitonesFromRoot,(r+e.length+3)*h+u,(r+e.length+3)*h+u+o+h)})};function Qt(e,t,n){const l=e.slice();l[25]=t[n];const o=l[1];return l[26]=o,l}function Wt(e,t,n){const l=e.slice();l[25]=t[n];const o=l[1]+l[25].rootIntervalToIonian-l[3].rootIntervalToIonian;return l[26]=o,l}function Yt(e,t,n){const l=e.slice();return l[31]=t[n],l}function Zt(e,t,n){const l=e.slice();l[34]=t[n],l[39]=n;const o=l[0]?l[10](l[3].scale[X(l[39]-l[2].modes.findIndex(v=>v===l[3]),l[3].scale.length)].semitonesFromRoot+l[1],l[6]):l[10](l[34].semitonesFromRoot+l[1],l[6]);l[35]=o;const u=l[11](l[34],l[1],l[7]);l[36]=u;const h=l[11](l[34],l[1],l[8]);return l[37]=h,l}function $t(e,t,n){const l=e.slice();l[40]=t[n],l[39]=n;const o=l[10](l[39],l[6]);return l[35]=o,l}function xt(e){let t,n,l,o,u=e[9](e[40])+"",h,v;return{c(){t=ne("g"),n=ne("circle"),o=ne("text"),h=E(u),this.h()},l(r){t=ae(r,"g",{});var f=b(t);n=ae(f,"circle",{style:!0,cx:!0,cy:!0,r:!0,transform:!0,stroke:!0,fill:!0}),b(n).forEach(_),o=ae(f,"text",{x:!0,y:!0,class:!0,"text-anchor":!0,dy:!0});var g=b(o);h=N(g,u),g.forEach(_),f.forEach(_),this.h()},h(){Ze(n,"stroke-width","1.6871"),Ze(n,"stroke-miterlimit","10"),i(n,"cx",0),i(n,"cy",0),i(n,"r",30),i(n,"transform",`translate(${e[35].x} ${e[35].y})`),i(n,"stroke","transparent"),i(n,"fill",l=e[39]===e[1]?"yellow":"var(--base-background-color)"),i(o,"x",e[35].x),i(o,"y",e[35].y),i(o,"class",v=ue(`svgNoteName ${e[12](e[39],e[1],e[3].scale)?"svgSelectedNoteName":""}`)+" svelte-44cbht"),i(o,"text-anchor","middle"),i(o,"dy",".3em")},m(r,f){se(r,t,f),a(t,n),a(t,o),a(o,h)},p(r,f){f[0]&2&&l!==(l=r[39]===r[1]?"yellow":"var(--base-background-color)")&&i(n,"fill",l),f[0]&10&&v!==(v=ue(`svgNoteName ${r[12](r[39],r[1],r[3].scale)?"svgSelectedNoteName":""}`)+" svelte-44cbht")&&i(o,"class",v)},d(r){r&&_(t)}}}function el(e){let t,n,l,o,u=e[34].label+"",h,v,r,f=Kt(e[34],e[39])+"",g,O;return{c(){t=ne("circle"),l=ne("g"),o=ne("text"),h=E(u),r=ne("text"),g=E(f),this.h()},l(I){t=ae(I,"circle",{style:!0,cx:!0,cy:!0,r:!0,transform:!0,stroke:!0,fill:!0,class:!0}),b(t).forEach(_),l=ae(I,"g",{class:!0});var m=b(l);o=ae(m,"text",{x:!0,y:!0,"text-anchor":!0,dy:!0,transform:!0,class:!0});var d=b(o);h=N(d,u),d.forEach(_),r=ae(m,"text",{x:!0,y:!0,"text-anchor":!0,dy:!0,transform:!0,class:!0});var y=b(r);g=N(y,f),y.forEach(_),m.forEach(_),this.h()},h(){Ze(t,"stroke-width","1.6871"),Ze(t,"stroke-miterlimit","10"),i(t,"cx",0),i(t,"cy",0),i(t,"r",30),i(t,"transform",n=`translate(${e[35].x} ${e[35].y})`),i(t,"stroke","black"),i(t,"fill","transparent"),i(t,"class","transitionAll svelte-44cbht"),i(o,"x",0),i(o,"y",0),i(o,"text-anchor","middle"),i(o,"dy",".3em"),i(o,"transform",v=`translate(${e[36].x} ${e[36].y})`),i(o,"class","svgNoteName scaleNote transitionAll svelte-44cbht"),i(r,"x",0),i(r,"y",0),i(r,"text-anchor","middle"),i(r,"dy",".3em"),i(r,"transform",O=`translate(${e[37].x} ${e[37].y})`),i(r,"class","svgNoteName scaleNote transitionAll svelte-44cbht"),i(l,"class","transitionNote")},m(I,m){se(I,t,m),se(I,l,m),a(l,o),a(o,h),a(l,r),a(r,g)},p(I,m){m[0]&15&&n!==(n=`translate(${I[35].x} ${I[35].y})`)&&i(t,"transform",n),m[0]&8&&u!==(u=I[34].label+"")&&K(h,u),m[0]&10&&v!==(v=`translate(${I[36].x} ${I[36].y})`)&&i(o,"transform",v),m[0]&8&&f!==(f=Kt(I[34],I[39])+"")&&K(g,f),m[0]&10&&O!==(O=`translate(${I[37].x} ${I[37].y})`)&&i(r,"transform",O)},d(I){I&&_(t),I&&_(l)}}}function tl(e){let t,n=e[31].label+"",l,o,u,h,v;function r(){return e[15](e[31])}return{c(){t=T("button"),l=E(n),o=C(),this.h()},l(f){t=k(f,"BUTTON",{class:!0});var g=b(t);l=N(g,n),o=M(g),g.forEach(_),this.h()},h(){i(t,"class",u=ue(e[2]===e[31]?"selectedTab":"")+" svelte-44cbht")},m(f,g){se(f,t,g),a(t,l),a(t,o),h||(v=J(t,"click",r),h=!0)},p(f,g){e=f,g[0]&4&&u!==(u=ue(e[2]===e[31]?"selectedTab":"")+" svelte-44cbht")&&i(t,"class",u)},d(f){f&&_(t),h=!1,v()}}}function ll(e){let t,n,l=e[9](p[X(e[26],p.length)])+"",o,u,h=e[25].name+"",v,r,f,g,O;function I(){return e[16](e[25],e[26])}return{c(){t=T("button"),n=T("span"),o=E(l),u=C(),v=E(h),r=C(),this.h()},l(m){t=k(m,"BUTTON",{class:!0});var d=b(t);n=k(d,"SPAN",{class:!0});var y=b(n);o=N(y,l),y.forEach(_),u=M(d),v=N(d,h),r=M(d),d.forEach(_),this.h()},h(){i(n,"class","noteLabel svelte-44cbht"),i(t,"class",f=ue(e[25]===e[3]&&e[0]?"selectedTab":"")+" svelte-44cbht")},m(m,d){se(m,t,d),a(t,n),a(n,o),a(t,u),a(t,v),a(t,r),g||(O=J(t,"click",I),g=!0)},p(m,d){e=m,d[0]&14&&l!==(l=e[9](p[X(e[26],p.length)])+"")&&K(o,l),d[0]&4&&h!==(h=e[25].name+"")&&K(v,h),d[0]&13&&f!==(f=ue(e[25]===e[3]&&e[0]?"selectedTab":"")+" svelte-44cbht")&&i(t,"class",f)},d(m){m&&_(t),g=!1,O()}}}function nl(e){let t,n,l=e[9](p[X(e[26],p.length)])+"",o,u,h=e[25].name+"",v,r,f,g,O;function I(){return e[17](e[25],e[26])}return{c(){t=T("button"),n=T("span"),o=E(l),u=C(),v=E(h),r=C(),this.h()},l(m){t=k(m,"BUTTON",{class:!0});var d=b(t);n=k(d,"SPAN",{class:!0});var y=b(n);o=N(y,l),y.forEach(_),u=M(d),v=N(d,h),r=M(d),d.forEach(_),this.h()},h(){i(n,"class","noteLabel svelte-44cbht"),i(t,"class",f=ue(e[25]===e[3]&&!e[0]?"selectedTab":"")+" svelte-44cbht")},m(m,d){se(m,t,d),a(t,n),a(n,o),a(t,u),a(t,v),a(t,r),g||(O=J(t,"click",I),g=!0)},p(m,d){e=m,d[0]&2&&l!==(l=e[9](p[X(e[26],p.length)])+"")&&K(o,l),d[0]&4&&h!==(h=e[25].name+"")&&K(v,h),d[0]&13&&f!==(f=ue(e[25]===e[3]&&!e[0]?"selectedTab":"")+" svelte-44cbht")&&i(t,"class",f)},d(m){m&&_(t),g=!1,O()}}}function Ol(e){let t,n=e[9](p[X(e[1],p.length)])+"",l,o,u=e[3].name+"",h,v,r,f,g,O,I,m,d,y,U,ye,W,ee,oe=e[9](p[X(e[1],p.length)])+"",Le,we,re,Re,Ge,ce,Ue,P,D,z,j,Y,$e,Ve=e[2].label+"",Xe,xe,et,tt,qe,ie,Ie,lt,nt,at,Ee,Z,fe,st,ot,_e,rt,ct,de,it,ht,Ne,he,te,ve,ut,ft,me,je,_t,dt,ge,vt,mt,le,be,gt,bt,pe,He,pt,Tt,Te,kt,yt,Pt,Se=[...p],L=[];for(let c=0;c<Se.length;c+=1)L[c]=xt($t(e,Se,c));let Ce=[...e[3].scale],V=[];for(let c=0;c<Ce.length;c+=1)V[c]=el(Zt(e,Ce,c));let Me=St,q=[];for(let c=0;c<Me.length;c+=1)q[c]=tl(Yt(e,Me,c));let Pe=e[2].modes,B=[];for(let c=0;c<Pe.length;c+=1)B[c]=ll(Wt(e,Pe,c));let De=e[2].modes,w=[];for(let c=0;c<De.length;c+=1)w[c]=nl(Qt(e,De,c));return{c(){t=T("h1"),l=E(n),o=C(),h=E(u),v=C(),r=T("div"),f=ne("svg"),g=ne("circle");for(let c=0;c<L.length;c+=1)L[c].c();O=zt();for(let c=0;c<V.length;c+=1)V[c].c();I=C(),m=T("div"),d=T("div"),y=E(`Root note
			`),U=T("button"),ye=E("-"),W=C(),ee=T("span"),Le=E(oe),we=C(),re=T("button"),Re=E("+"),Ge=C(),ce=T("div"),Ue=E(`Mode type
			`);for(let c=0;c<q.length;c+=1)q[c].c();P=C(),D=T("div"),z=T("div"),j=T("div"),Y=T("h2"),$e=E("Equivalent "),Xe=E(Ve),xe=E(" modes"),et=C();for(let c=0;c<B.length;c+=1)B[c].c();tt=C(),qe=T("div"),ie=T("div"),Ie=T("h2"),lt=E("Modes by modification"),nt=C();for(let c=0;c<w.length;c+=1)w[c].c();at=C(),Ee=T("div"),Z=T("div"),fe=T("button"),st=E("▶ Scale"),ot=C(),_e=T("button"),rt=E("▶ Scale + Pedal"),ct=C(),de=T("button"),it=E("▶ Scale + Drone"),ht=C(),Ne=T("div"),he=T("div"),te=T("div"),ve=T("button"),ut=E("-"),ft=C(),me=T("span"),je=E(e[4]),_t=E(" bpm"),dt=C(),ge=T("button"),vt=E("+"),mt=C(),le=T("div"),be=T("button"),gt=E("-"),bt=C(),pe=T("span"),He=E(e[4]),pt=E(" bpm"),Tt=C(),Te=T("button"),kt=E("+"),this.h()},l(c){t=k(c,"H1",{class:!0});var S=b(t);l=N(S,n),o=M(S),h=N(S,u),S.forEach(_),v=M(c),r=k(c,"DIV",{class:!0,"data-sveltekit-preload-data":!0});var s=b(r);f=ae(s,"svg",{id:!0,viewBox:!0,xmlns:!0,class:!0});var F=b(f);g=ae(F,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,class:!0}),b(g).forEach(_);for(let A=0;A<L.length;A+=1)L[A].l(F);O=zt();for(let A=0;A<V.length;A+=1)V[A].l(F);F.forEach(_),I=M(s),m=k(s,"DIV",{class:!0});var $=b(m);d=k($,"DIV",{});var ke=b(d);y=N(ke,`Root note
			`),U=k(ke,"BUTTON",{class:!0});var Dt=b(U);ye=N(Dt,"-"),Dt.forEach(_),W=M(ke),ee=k(ke,"SPAN",{class:!0});var Ot=b(ee);Le=N(Ot,oe),Ot.forEach(_),we=M(ke),re=k(ke,"BUTTON",{class:!0});var Ft=b(re);Re=N(Ft,"+"),Ft.forEach(_),ke.forEach(_),Ge=M($),ce=k($,"DIV",{});var It=b(ce);Ue=N(It,`Mode type
			`);for(let A=0;A<q.length;A+=1)q[A].l(It);It.forEach(_),P=M($),D=k($,"DIV",{});var ze=b(D);z=k(ze,"DIV",{});var At=b(z);j=k(At,"DIV",{});var Je=b(j);Y=k(Je,"H2",{class:!0});var Ke=b(Y);$e=N(Ke,"Equivalent "),Xe=N(Ke,Ve),xe=N(Ke," modes"),Ke.forEach(_),et=M(Je);for(let A=0;A<B.length;A+=1)B[A].l(Je);Je.forEach(_),At.forEach(_),tt=M(ze),qe=k(ze,"DIV",{});var Lt=b(qe);ie=k(Lt,"DIV",{});var Qe=b(ie);Ie=k(Qe,"H2",{class:!0});var Vt=b(Ie);lt=N(Vt,"Modes by modification"),Vt.forEach(_),nt=M(Qe);for(let A=0;A<w.length;A+=1)w[A].l(Qe);Qe.forEach(_),Lt.forEach(_),ze.forEach(_),at=M($),Ee=k($,"DIV",{class:!0});var qt=b(Ee);Z=k(qt,"DIV",{class:!0});var Oe=b(Z);fe=k(Oe,"BUTTON",{class:!0});var Bt=b(fe);st=N(Bt,"▶ Scale"),Bt.forEach(_),ot=M(Oe),_e=k(Oe,"BUTTON",{class:!0});var wt=b(_e);rt=N(wt,"▶ Scale + Pedal"),wt.forEach(_),ct=M(Oe),de=k(Oe,"BUTTON",{class:!0});var Rt=b(de);it=N(Rt,"▶ Scale + Drone"),Rt.forEach(_),Oe.forEach(_),qt.forEach(_),ht=M($),Ne=k($,"DIV",{class:!0});var Gt=b(Ne);he=k(Gt,"DIV",{class:!0});var We=b(he);te=k(We,"DIV",{});var Fe=b(te);ve=k(Fe,"BUTTON",{class:!0});var Ut=b(ve);ut=N(Ut,"-"),Ut.forEach(_),ft=M(Fe),me=k(Fe,"SPAN",{class:!0});var Et=b(me);je=N(Et,e[4]),_t=N(Et," bpm"),Et.forEach(_),dt=M(Fe),ge=k(Fe,"BUTTON",{class:!0});var Xt=b(ge);vt=N(Xt,"+"),Xt.forEach(_),Fe.forEach(_),mt=M(We),le=k(We,"DIV",{});var Ae=b(le);be=k(Ae,"BUTTON",{class:!0});var jt=b(be);gt=N(jt,"-"),jt.forEach(_),bt=M(Ae),pe=k(Ae,"SPAN",{class:!0});var Nt=b(pe);He=N(Nt,e[4]),pt=N(Nt," bpm"),Nt.forEach(_),Tt=M(Ae),Te=k(Ae,"BUTTON",{class:!0});var Ht=b(Te);kt=N(Ht,"+"),Ht.forEach(_),Ae.forEach(_),We.forEach(_),Gt.forEach(_),$.forEach(_),s.forEach(_),this.h()},h(){i(t,"class","svelte-44cbht"),i(g,"cx",e[5].xCentre),i(g,"cy",e[5].yCentre),i(g,"r",e[5].radius),i(g,"stroke","grey"),i(g,"stroke-width",1),i(g,"fill","var(--base-background-color)"),i(g,"class","background svelte-44cbht"),i(f,"id","boxOfNotes"),i(f,"viewBox","0 0 800 800"),i(f,"xmlns","http://www.w3.org/2000/svg"),i(f,"class","svelte-44cbht"),i(U,"class","svelte-44cbht"),i(ee,"class","noteLabel svelte-44cbht"),i(re,"class","svelte-44cbht"),i(Y,"class","svelte-44cbht"),i(Ie,"class","svelte-44cbht"),i(fe,"class","svelte-44cbht"),i(_e,"class","svelte-44cbht"),i(de,"class","svelte-44cbht"),i(Z,"class","svelte-44cbht"),i(Ee,"class","musicControls svelte-44cbht"),i(ve,"class","svelte-44cbht"),i(me,"class","noteLabel svelte-44cbht"),i(ge,"class","svelte-44cbht"),i(be,"class","svelte-44cbht"),i(pe,"class","noteLabel svelte-44cbht"),i(Te,"class","svelte-44cbht"),i(he,"class","svelte-44cbht"),i(Ne,"class","musicControls svelte-44cbht"),i(m,"class","boxOfButtons svelte-44cbht"),i(r,"class","appContainer svelte-44cbht"),i(r,"data-sveltekit-preload-data","hover")},m(c,S){se(c,t,S),a(t,l),a(t,o),a(t,h),se(c,v,S),se(c,r,S),a(r,f),a(f,g);for(let s=0;s<L.length;s+=1)L[s].m(f,null);a(f,O);for(let s=0;s<V.length;s+=1)V[s].m(f,null);a(r,I),a(r,m),a(m,d),a(d,y),a(d,U),a(U,ye),a(d,W),a(d,ee),a(ee,Le),a(d,we),a(d,re),a(re,Re),a(m,Ge),a(m,ce),a(ce,Ue);for(let s=0;s<q.length;s+=1)q[s].m(ce,null);a(m,P),a(m,D),a(D,z),a(z,j),a(j,Y),a(Y,$e),a(Y,Xe),a(Y,xe),a(j,et);for(let s=0;s<B.length;s+=1)B[s].m(j,null);a(D,tt),a(D,qe),a(qe,ie),a(ie,Ie),a(Ie,lt),a(ie,nt);for(let s=0;s<w.length;s+=1)w[s].m(ie,null);a(m,at),a(m,Ee),a(Ee,Z),a(Z,fe),a(fe,st),a(Z,ot),a(Z,_e),a(_e,rt),a(Z,ct),a(Z,de),a(de,it),a(m,ht),a(m,Ne),a(Ne,he),a(he,te),a(te,ve),a(ve,ut),a(te,ft),a(te,me),a(me,je),a(me,_t),a(te,dt),a(te,ge),a(ge,vt),a(he,mt),a(he,le),a(le,be),a(be,gt),a(le,bt),a(le,pe),a(pe,He),a(pe,pt),a(le,Tt),a(le,Te),a(Te,kt),yt||(Pt=[J(U,"click",e[13]),J(re,"click",e[14]),J(fe,"click",e[18]),J(_e,"click",e[19]),J(de,"click",e[20]),J(ve,"click",e[21]),J(ge,"click",e[22]),J(be,"click",e[23]),J(Te,"click",e[24])],yt=!0)},p(c,S){if(S[0]&2&&n!==(n=c[9](p[X(c[1],p.length)])+"")&&K(l,n),S[0]&8&&u!==(u=c[3].name+"")&&K(h,u),S[0]&5706){Se=[...p];let s;for(s=0;s<Se.length;s+=1){const F=$t(c,Se,s);L[s]?L[s].p(F,S):(L[s]=xt(F),L[s].c(),L[s].m(f,O))}for(;s<L.length;s+=1)L[s].d(1);L.length=Se.length}if(S[0]&3535){Ce=[...c[3].scale];let s;for(s=0;s<Ce.length;s+=1){const F=Zt(c,Ce,s);V[s]?V[s].p(F,S):(V[s]=el(F),V[s].c(),V[s].m(f,null))}for(;s<V.length;s+=1)V[s].d(1);V.length=Ce.length}if(S[0]&2&&oe!==(oe=c[9](p[X(c[1],p.length)])+"")&&K(Le,oe),S[0]&12){Me=St;let s;for(s=0;s<Me.length;s+=1){const F=Yt(c,Me,s);q[s]?q[s].p(F,S):(q[s]=tl(F),q[s].c(),q[s].m(ce,null))}for(;s<q.length;s+=1)q[s].d(1);q.length=Me.length}if(S[0]&4&&Ve!==(Ve=c[2].label+"")&&K(Xe,Ve),S[0]&527){Pe=c[2].modes;let s;for(s=0;s<Pe.length;s+=1){const F=Wt(c,Pe,s);B[s]?B[s].p(F,S):(B[s]=ll(F),B[s].c(),B[s].m(j,null))}for(;s<B.length;s+=1)B[s].d(1);B.length=Pe.length}if(S[0]&527){De=c[2].modes;let s;for(s=0;s<De.length;s+=1){const F=Qt(c,De,s);w[s]?w[s].p(F,S):(w[s]=nl(F),w[s].c(),w[s].m(ie,null))}for(;s<w.length;s+=1)w[s].d(1);w.length=De.length}S[0]&16&&K(je,c[4]),S[0]&16&&K(He,c[4])},i:Jt,o:Jt,d(c){c&&_(t),c&&_(v),c&&_(r),Be(L,c),Be(V,c),Be(q,c),Be(B,c),Be(w,c),yt=!1,rl(Pt)}}}function Fl(e,t,n){const l={xCentre:400,yCentre:400,radius:300};let o=!0;const u={...l,radius:l.radius},h={...l,radius:l.radius-70},v={...l,radius:l.radius+70};let r=0,f=St[0],g=f.modes[0];const O=P=>P.preferSharp?P.sharpNote:P.flatNote,I=(P,D)=>({x:D.xCentre+D.radius*Math.cos(P*2*Math.PI/p.length-.5*Math.PI),y:D.yCentre+D.radius*Math.sin(P*2*Math.PI/p.length-.5*Math.PI)}),m=(P,D,z)=>({x:z.xCentre+z.radius*Math.cos((P.semitonesFromRoot+D)*2*Math.PI/p.length-.5*Math.PI),y:z.yCentre+z.radius*Math.sin((P.semitonesFromRoot+D)*2*Math.PI/p.length-.5*Math.PI)}),d=(P,D,z)=>{let j=X(P-D,p.length);return j<0&&(j=j+p.length),z.some(Y=>Y.semitonesFromRoot===j)};let y=120;return[o,r,f,g,y,l,u,h,v,O,I,m,d,()=>{n(1,r=r-1),r<0&&n(1,r=r+12)},()=>{n(1,r=r+1),r>=12&&n(1,r=r-12)},P=>{f!==P&&(n(2,f=P),n(3,g=P.modes[0]))},(P,D)=>{n(3,g=P),n(1,r=X(D,p.length)),n(0,o=!0)},(P,D)=>{n(3,g=P),n(1,r=X(D,p.length)),n(0,o=!1)},()=>{Pl(g.scale,r,60*1e3/y)},()=>{Ml(g.scale,r,60*1e3/y)},()=>{Dl(g.scale,r,60*1e3/y)},()=>{y>10&&n(4,y=y-20)},()=>{n(4,y=y+20)},()=>{y>10&&n(4,y=y-20)},()=>{n(4,y=y+20)}]}class Ll extends al{constructor(t){super(),sl(this,t,Fl,Ol,ol,{},null,[-1,-1])}}export{Ll as default};

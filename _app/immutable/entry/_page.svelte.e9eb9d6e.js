import{S as Re,i as je,s as Ae,k as E,q as C,a as R,l as T,m as b,r as P,c as j,h as d,n as u,b as B,G as f,u as $,H as oe,J as z,K as nt,e as tt,L as De,M as Y,N as Z,p as re,O as de,y as Ve,z as Ue,A as Xe,g as He,d as ze,B as Je}from"../chunks/index.0927561f.js";import{w as xt}from"../chunks/index.6d3ad0ca.js";const D=(e,t)=>{const l=e%t;return l<0?l+t:l},rn=e=>{if(isNaN(e))return"NaN";const t=String(+e).split("")??[],l=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];let n="",o=3;for(;o--;)n=(l[+(t.pop()??"")+o*10]||"")+n;return Array(+t.join("")+1).join("M")+n},U=(e,t,l)=>{let n=0;for(let o=e;o<t;o++)n+=l[D(o,l.length)];return n},an=e=>{const t=e%10,l=e%100;return t===1&&l!==11?e+"st":t===2&&l!==12?e+"nd":t===3&&l!==13?e+"rd":e+"th"},v=[{sharpNote:"C",flatNote:"C",defaultOctaveFrequency:261.63},{sharpNote:"C#",flatNote:"D♭",preferSharp:!0,defaultOctaveFrequency:277.18},{sharpNote:"D",flatNote:"D",defaultOctaveFrequency:293.66},{sharpNote:"D#",flatNote:"E♭",preferSharp:!1,defaultOctaveFrequency:311.13},{sharpNote:"E",flatNote:"E",defaultOctaveFrequency:329.63},{sharpNote:"F",flatNote:"F",defaultOctaveFrequency:349.23},{sharpNote:"F#",flatNote:"G♭",preferSharp:!0,defaultOctaveFrequency:185},{sharpNote:"G",flatNote:"G",defaultOctaveFrequency:196},{sharpNote:"G#",flatNote:"A♭",preferSharp:!1,defaultOctaveFrequency:207.65},{sharpNote:"A",flatNote:"A",defaultOctaveFrequency:220},{sharpNote:"A#",flatNote:"B♭",preferSharp:!1,defaultOctaveFrequency:233.08},{sharpNote:"A",flatNote:"B",defaultOctaveFrequency:246.94}],H=[2,2,1,2,2,2,1],ae=[2,2,3,2,3],_e=[3,2,1,1,3,2],xe=[1,256/243,9/8,32/27,81/64,4/3,1024/729,3/2,128/81,27/16,16/9,243/128],bt={pentatonic:[.3,.05,.05,.2,.1],diatonic:[.3,.05,.15,.05,.075,.05,.03],hexatonic:[.3,.075,.15,.075,.075,.05]},pt={pentatonic:[.5,.05,.15,.2,.05],diatonic:[.5,.02,.05,.1,.1,.05,.02],hexatonic:[.5,.02,.05,.1,.1,.05]},Fe=.25,sn=["perfect","major","minor","augmented","diminished"],en=(e,t)=>e===4&&t===7?"major":e===3&&t===7?"minor":e===3&&t===6?"diminished":"bizarre",At=(e,t)=>{const l=[{...t[e]},{...t[D(e+2,t.length)]},{...t[D(e+4,t.length)]}];return en(l[1].semitonesFromRoot,l[1].semitonesFromRoot+l[2].semitonesFromRoot)},It=e=>en(e.firstInterval.semitonesFromRoot,e.secondInterval.semitonesFromRoot),cn=(e,t)=>({firstInterval:{semitonesFromRoot:U(e,e+2,t)},secondInterval:{semitonesFromRoot:U(e,e+4,t)}}),tn=(e,t)=>{const l=[{...t[e]},{...t[D(e+2,t.length)]},{...t[D(e+4,t.length)]}];return l.forEach((n,o)=>{o<=0||n.semitonesFromRoot<l[o-1].semitonesFromRoot&&(n.semitonesFromRoot+=v.length)}),l},un=(e,t,l)=>{const n=rn(D(e+1,l.length+1)),o=e+t,a=It(cn(o,l));return a==="major"?n:a==="minor"?n.toLowerCase():a==="diminished"?`${n.toLowerCase()}°`:n},X=(e,t)=>{const l=[];for(let n=0;n<t.length;n++)l.push({semitonesFromRoot:U(e,e+n,t),label:un(n,e,t)});return l},fn=X(0,H),hn=X(1,H),mn=X(2,H),dn=X(3,H),_n=X(4,H),vn=X(5,H),gn=X(6,H),bn=[{name:"Ionian / Major",scale:fn,rootIntervalToIonian:U(0,0,H)},{name:"Dorian",scale:hn,rootIntervalToIonian:U(0,1,H)},{name:"Phrygian",scale:mn,rootIntervalToIonian:U(0,2,H)},{name:"Lydian",scale:dn,rootIntervalToIonian:U(0,3,H)},{name:"Mixolydian",scale:_n,rootIntervalToIonian:U(0,4,H)},{name:"Aeolian / Natural Minor",scale:vn,rootIntervalToIonian:U(0,5,H)},{name:"Locrian",scale:gn,rootIntervalToIonian:U(0,6,H)}],pn=X(0,ae),yn=X(1,ae),In=X(2,ae),kn=X(3,ae),Nn=X(4,ae),En=[{name:"Major",scale:pn,rootIntervalToIonian:U(0,0,ae)},{name:"Suspended / Egyptian",scale:yn,rootIntervalToIonian:U(0,1,ae)},{name:"Blues minor / Man Gong",scale:In,rootIntervalToIonian:U(0,2,ae)},{name:"Blues major",scale:kn,rootIntervalToIonian:U(0,3,ae)},{name:"Minor",scale:Nn,rootIntervalToIonian:U(0,4,ae)}],Tn=X(0,_e),wn=X(1,_e);X(2,_e);X(3,_e);X(4,_e);X(5,_e);const Sn=[{name:"Minor",scale:Tn,rootIntervalToIonian:U(0,0,_e)},{name:"Major",scale:wn,rootIntervalToIonian:U(0,1,_e)}],kt=[{label:"Diatonic",modes:bn,probabilityDistributions:{bass:pt.diatonic,melody:bt.diatonic}},{label:"Pentatonic",modes:En,probabilityDistributions:{bass:pt.pentatonic,melody:bt.pentatonic}},{label:"Hexatonic (blues)",modes:Sn,probabilityDistributions:{bass:pt.hexatonic,melody:bt.hexatonic}}],ee=e=>e.preferSharp?e.sharpNote:e.flatNote,Lt=(e,t,l)=>{let n=D(e-t,v.length);return n<0&&(n=n+v.length),l.some(o=>o.semitonesFromRoot===n)},nn=(e,t)=>{if(e===1)return"augmented";if([1,4,5].includes(t)){if(e===0)return"perfect";if(e===-1)return"diminished"}if(e===0)return"major";if(e===-1)return"minor";if(e===-2)return"diminished"},Ot=(e,t)=>`${e} ${an(t)}`,ln=(e,t)=>{if(e==="augmented")return`A${t}`;if(e==="perfect")return`P${t}`;if(e==="diminished")return`d${t}`;if(e==="major")return`M${t}`;if(e==="minor")return`m${t}`},Mn=(e,t)=>{const l=t+1,n=nn(e,l);if(n)return ln(n,l)},on=e=>{const t=[];let l=0;for(;l<H.length;){const n=l+1,o=e-U(0,l,H),a=nn(o,n);a&&t.push({intervalType:a,intervalN:n}),l++}return t},et=(e,t)=>{const l=e.semitonesFromRoot-U(0,t,H),n=Mn(l,t);if(n)return n;const o=on(e.semitonesFromRoot);for(const a of sn)for(const r of o)if(r.intervalType===a)return ln(r.intervalType,r.intervalN);return`${e.semitonesFromRoot}s`};function Cn(e){let t,l=ee(v[D(e[0],v.length)])+"",n,o,a;return{c(){t=E("h1"),n=C(l),o=R(),a=C(e[1]),this.h()},l(r){t=T(r,"H1",{class:!0});var s=b(t);n=P(s,l),o=j(s),a=P(s,e[1]),s.forEach(d),this.h()},h(){u(t,"class","svelte-1j0u2fz")},m(r,s){B(r,t,s),f(t,n),f(t,o),f(t,a)},p(r,[s]){s&1&&l!==(l=ee(v[D(r[0],v.length)])+"")&&$(n,l),s&2&&$(a,r[1])},i:oe,o:oe,d(r){r&&d(t)}}}function Pn(e,t,l){let{rootNoteIndex:n}=t,{selectedScaleName:o}=t;return e.$$set=a=>{"rootNoteIndex"in a&&l(0,n=a.rootNoteIndex),"selectedScaleName"in a&&l(1,o=a.selectedScaleName)},[n,o]}class Fn extends Re{constructor(t){super(),je(this,t,Pn,Cn,Ae,{rootNoteIndex:0,selectedScaleName:1})}}const Nt=xt({}),Et=xt({}),Le=300,We=.75,Dn=12,Rn=1e-6,jn={attackTime:.1,decayTime:.3,releaseTime:.5,maxSustainTime:.2,maxGain:.1,sustainGainRatio:.1,oscillatorType:"sine"},An=(e,t)=>{let l=1;for(;t<0;)t=t+xe.length,l=l*.5;for(;t>=xe.length;)t=t-xe.length,l=l*2;return l=l*xe[t],e.defaultOctaveFrequency*l},G=(e,t,l,n,o={})=>{if(n<l){console.log("Warning: note end time earlier than start time");return}const a={...jn,...o};let{attackTime:r,decayTime:s}={...a};const{releaseTime:c,maxSustainTime:i,maxGain:h,sustainGainRatio:_,oscillatorType:w="triangle"}={...a},y=h*_,g=new AudioContext,S=g.createOscillator(),I=g.createGain(),p=g.createDynamicsCompressor();I.gain.value=.001,S.type=w,S.frequency.value=An(e,t),S.connect(I).connect(p).connect(g.destination);const A=n-l;r>A/(2*1e3)&&(r=A/(2*1e3)),s+r>A/1e3&&(s=A/1e3-r);let k=i??1e4;k>A/1e3-r-s&&(k=A/1e3-r-s),setTimeout(function(){const M=g.currentTime+r;I.gain.exponentialRampToValueAtTime(h,M),Nt.update(J=>({...J,[D(t,v.length)]:(J[`${D(t,v.length)}`]??0)+1})),S.start(),setTimeout(()=>{I.gain.exponentialRampToValueAtTime(y,g.currentTime+s),setTimeout(()=>{I.gain.exponentialRampToValueAtTime(Rn,g.currentTime+c),Nt.update(J=>{const x=Math.max((J[`${D(t,v.length)}`]??0)-1,0);return{...J,[D(t,v.length)]:x}}),setTimeout(function(){S.stop(),g.close()},c*1e3+2e3)},k*1e3)},r*1e3)},l)},Ln=(e,t,l,n=Le,o=We)=>{const a=n*.5*o,r=n*.5-a,s=n*.5,c=tn(t,l);console.log("mapped scale notes",c),[...c].forEach((i,h)=>{G(v[e],i.semitonesFromRoot,h*s+r,h*s+r+a+s)}),[...c].forEach(i=>{G(v[e],i.semitonesFromRoot,(c.length+1)*s+r,(c.length+1)*s+r+(a+s)*2)})},On=(e,t,l=Le,n=We)=>{const o=l*.5*n,a=l*.5-o,r=l*.5;[...[{semitonesFromRoot:0},e]].forEach((c,i)=>{G(v[t],c.semitonesFromRoot,i*r+a,i*r+a+o+r)})},Bn=(e,t,l=Le,n=We)=>{const o=l*.5*n,a=l*.5-o,r=l*.5;[...e].forEach((s,c)=>{c===0?G(v[t],s.semitonesFromRoot,c*2*r+a,c*2*r+a+o+r):(G(v[t],0,c*2*r+a,c*2*r+a+o),G(v[t],s.semitonesFromRoot,(c*2+1)*r+a,(c*2+1)*r+a+o))}),G(v[t],0,e.length*2*r+a,e.length*2*r+a+o),G(v[t],v.length,(e.length*2+1)*r+a,(e.length*2+1)*r+a+o)},qn=(e,t,l=Le,n=We)=>{const o=l*.5*n,a=l*.5-o,r=l*.5;G(v[t],e[0].semitonesFromRoot,a,r+a+o+r),[...e].forEach((s,c)=>{G(v[t],s.semitonesFromRoot,(c+2)*r+a,(c+2)*r+a+o+r)}),G(v[t],v.length,(e.length+2)*r+a,(e.length+2)*r+a+o),[...e].reverse().forEach((s,c)=>{G(v[t],s.semitonesFromRoot,(c+e.length+3)*r+a,(c+e.length+3)*r+a+o+r)})},Gn=(e,t,l=Le,n=We)=>{const o=l*.5*n,a=l*.5-o,r=l*.5;G(v[t],0,a,a+r*(e.length*2+3),{maxSustainTime:r*(e.length*2+2),oscillatorType:"sine",sustainGainRatio:.5,maxGain:.0125}),[...e].forEach((s,c)=>{G(v[t],s.semitonesFromRoot,(c+2)*r+a,(c+2)*r+a+o+r)}),G(v[t],v.length,(e.length+2)*r+a,(e.length+2)*r+a+o),[...e].reverse().forEach((s,c)=>{G(v[t],s.semitonesFromRoot,(c+e.length+3)*r+a,(c+e.length+3)*r+a+o+r)})},Vn=(e,t,l,n,o=Le,a=Dn)=>{let r=0;for(;r<=a;)e.forEach((c,i)=>{if(!(i>=l.length)&&Math.random()<l[i]){const h=Math.random();let _=1;h>.8&&(_=2),h>.9&&(_=4),h>.95&&(_=6),h>.97&&(_=3),h>.99&&(_=8),G(v[t],c.semitonesFromRoot+v.length,o*r,o*r+o*Fe*_),r+=Fe}}),r+=Fe;let s=0;for(;s<=a;)e.forEach((c,i)=>{if(!(i>=n.length)&&Math.random()<n[i]){const h=Math.random();let _=1;h>.8&&(_=2),h>.9&&(_=4),h>.95&&(_=6),h>.97&&(_=3),h>.99&&(_=8),G(v[t],c.semitonesFromRoot,o*s,o*s+o*2*Fe*_),s+=2*Fe}}),s+=2*Fe};function Un(e){let t,l,n,o,a,r,s,c,i,h,_,w,y,g;return{c(){t=E("div"),l=E("button"),n=C("▶ Scale"),o=R(),a=E("button"),r=C("▶ Scale + Pedal"),s=R(),c=E("button"),i=C("▶ Scale + Drone"),h=R(),_=E("button"),w=C("▶ Jam")},l(S){t=T(S,"DIV",{});var I=b(t);l=T(I,"BUTTON",{});var p=b(l);n=P(p,"▶ Scale"),p.forEach(d),o=j(I),a=T(I,"BUTTON",{});var A=b(a);r=P(A,"▶ Scale + Pedal"),A.forEach(d),s=j(I),c=T(I,"BUTTON",{});var k=b(c);i=P(k,"▶ Scale + Drone"),k.forEach(d),h=j(I),_=T(I,"BUTTON",{});var M=b(_);w=P(M,"▶ Jam"),M.forEach(d),I.forEach(d)},m(S,I){B(S,t,I),f(t,l),f(l,n),f(t,o),f(t,a),f(a,r),f(t,s),f(t,c),f(c,i),f(t,h),f(t,_),f(_,w),y||(g=[z(l,"click",e[4]),z(a,"click",e[5]),z(c,"click",e[6]),z(_,"click",e[7])],y=!0)},p:oe,i:oe,o:oe,d(S){S&&d(t),y=!1,nt(g)}}}function Xn(e,t,l){let{rootNoteIndex:n}=t,{bpm:o}=t,{selectedScaleNotes:a}=t,{selectedModesGroup:r}=t;const s=()=>{qn(a,n,60*1e3/o)},c=()=>{Bn(a,n,60*1e3/o)},i=()=>{Gn(a,n,60*1e3/o)},h=()=>{Vn(a,n,r.probabilityDistributions.melody,r.probabilityDistributions.bass,60*1e3/o)};return e.$$set=_=>{"rootNoteIndex"in _&&l(0,n=_.rootNoteIndex),"bpm"in _&&l(1,o=_.bpm),"selectedScaleNotes"in _&&l(2,a=_.selectedScaleNotes),"selectedModesGroup"in _&&l(3,r=_.selectedModesGroup)},[n,o,a,r,s,c,i,h]}class Hn extends Re{constructor(t){super(),je(this,t,Xn,Un,Ae,{rootNoteIndex:0,bpm:1,selectedScaleNotes:2,selectedModesGroup:3})}}const Bt=(e,t,l)=>({x:l.xCentre+l.radius*Math.cos((e.semitonesFromRoot+t)*2*Math.PI/v.length-.5*Math.PI),y:l.yCentre+l.radius*Math.sin((e.semitonesFromRoot+t)*2*Math.PI/v.length-.5*Math.PI)}),Tt=(e,t)=>({x:t.xCentre+t.radius*Math.cos(e*2*Math.PI/v.length-.5*Math.PI),y:t.yCentre+t.radius*Math.sin(e*2*Math.PI/v.length-.5*Math.PI)});function qt(e,t,l){const n=e.slice();n[6]=t[l],n[9]=l;const o=Tt(n[9],n[0]);return n[7]=o,n}function Gt(e){let t,l,n,o,a,r,s,c,i,h=ee(e[6])+"",_,w,y,g,S,I;function p(){return e[4](e[9])}function A(...k){return e[5](e[9],...k)}return{c(){t=Y("g"),l=Y("circle"),a=Y("circle"),i=Y("text"),_=C(h),this.h()},l(k){t=Z(k,"g",{class:!0,tabindex:!0,"aria-label":!0,role:!0});var M=b(t);l=Z(M,"circle",{style:!0,cx:!0,cy:!0,r:!0,transform:!0,stroke:!0,fill:!0}),b(l).forEach(d),a=Z(M,"circle",{style:!0,cx:!0,cy:!0,r:!0,transform:!0,stroke:!0,fill:!0,opacity:!0,class:!0}),b(a).forEach(d),i=Z(M,"text",{x:!0,y:!0,class:!0,"text-anchor":!0,dy:!0});var J=b(i);_=P(J,h),J.forEach(d),M.forEach(d),this.h()},h(){re(l,"stroke-width","1.6871"),re(l,"stroke-miterlimit","10"),u(l,"cx",0),u(l,"cy",0),u(l,"r",30),u(l,"transform",n=`translate(${e[7].x} ${e[7].y})`),u(l,"stroke","transparent"),u(l,"fill",o=e[9]===e[1]?"yellow":"var(--base-background-color)"),re(a,"stroke-width","1.6871"),re(a,"stroke-miterlimit","10"),u(a,"cx",0),u(a,"cy",0),u(a,"r",30),u(a,"transform",r=`translate(${e[7].x} ${e[7].y})`),u(a,"stroke","transparent"),u(a,"fill",s=e[3][`${D(e[9]-e[1],v.length)}`]>0?"blue":"var(--base-background-color)"),u(a,"opacity",c=(e[3][`${D(e[9]-e[1],v.length)}`]??0)/3),u(a,"class","transitionAllQuick svelte-bfkdcb"),u(i,"x",w=e[7].x),u(i,"y",y=e[7].y),u(i,"class",g=de(`svgNoteName ${Lt(e[9],e[1],e[2])?"svgSelectedNoteName":""}`)+" svelte-bfkdcb"),u(i,"text-anchor","middle"),u(i,"dy",".3em"),u(t,"class","clickable"),u(t,"tabindex","0"),u(t,"aria-label",`Play ${ee(e[6])}`),u(t,"role","button")},m(k,M){B(k,t,M),f(t,l),f(t,a),f(t,i),f(i,_),S||(I=[z(t,"click",p),z(t,"keydown",A)],S=!0)},p(k,M){e=k,M&1&&n!==(n=`translate(${e[7].x} ${e[7].y})`)&&u(l,"transform",n),M&2&&o!==(o=e[9]===e[1]?"yellow":"var(--base-background-color)")&&u(l,"fill",o),M&1&&r!==(r=`translate(${e[7].x} ${e[7].y})`)&&u(a,"transform",r),M&10&&s!==(s=e[3][`${D(e[9]-e[1],v.length)}`]>0?"blue":"var(--base-background-color)")&&u(a,"fill",s),M&10&&c!==(c=(e[3][`${D(e[9]-e[1],v.length)}`]??0)/3)&&u(a,"opacity",c),M&1&&w!==(w=e[7].x)&&u(i,"x",w),M&1&&y!==(y=e[7].y)&&u(i,"y",y),M&6&&g!==(g=de(`svgNoteName ${Lt(e[9],e[1],e[2])?"svgSelectedNoteName":""}`)+" svelte-bfkdcb")&&u(i,"class",g)},d(k){k&&d(t),S=!1,nt(I)}}}function zn(e){let t,l=[...v],n=[];for(let o=0;o<l.length;o+=1)n[o]=Gt(qt(e,l,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=tt()},l(o){for(let a=0;a<n.length;a+=1)n[a].l(o);t=tt()},m(o,a){for(let r=0;r<n.length;r+=1)n[r].m(o,a);B(o,t,a)},p(o,[a]){if(a&15){l=[...v];let r;for(r=0;r<l.length;r+=1){const s=qt(o,l,r);n[r]?n[r].p(s,a):(n[r]=Gt(s),n[r].c(),n[r].m(t.parentNode,t))}for(;r<n.length;r+=1)n[r].d(1);n.length=l.length}},i:oe,o:oe,d(o){De(n,o),o&&d(t)}}}function Jn(e,t,l){let{notePositionCircle:n}=t,{rootNoteIndex:o}=t,{selectedScaleNotes:a}=t,r={};Nt.subscribe(i=>{l(3,r=i)});const s=i=>G(v[o],D(i-o,v.length),0,500),c=(i,h)=>h.key==="Enter"&&G(v[o],D(i-o,v.length),0,500);return e.$$set=i=>{"notePositionCircle"in i&&l(0,n=i.notePositionCircle),"rootNoteIndex"in i&&l(1,o=i.rootNoteIndex),"selectedScaleNotes"in i&&l(2,a=i.selectedScaleNotes)},[n,o,a,r,s,c]}class Wn extends Re{constructor(t){super(),je(this,t,Jn,zn,Ae,{notePositionCircle:0,rootNoteIndex:1,selectedScaleNotes:2})}}function Vt(e,t,l){const n=e.slice();n[14]=t[l],n[19]=l;const o=n[3]?Tt(n[0].scale[D(n[19]-n[2].findIndex(s=>s===n[0]),n[0].scale.length)].semitonesFromRoot+n[1],n[4]):Tt(n[14].semitonesFromRoot+n[1],n[4]);n[15]=o;const a=Bt(n[14],n[1],n[6]);n[16]=a;const r=Bt(n[14],n[1],n[5]);return n[17]=r,n}function Ut(e){let t,l,n,o,a,r,s,c,i=e[14].label+"",h,_,w,y,g,S,I,p=et(e[14],e[19])+"",A,k,M,J,x;function Oe(){return e[10](e[19])}function Be(...L){return e[11](e[19],...L)}function se(){return e[12](e[14])}function ve(...L){return e[13](e[14],...L)}return{c(){t=Y("circle"),n=R(),o=Y("g"),a=Y("g"),r=Y("circle"),c=Y("text"),h=C(i),y=Y("g"),g=Y("circle"),I=Y("text"),A=C(p),this.h()},l(L){t=Z(L,"circle",{style:!0,cx:!0,cy:!0,r:!0,transform:!0,stroke:!0,fill:!0,class:!0}),b(t).forEach(d),n=j(L),o=Z(L,"g",{class:!0});var O=b(o);a=Z(O,"g",{class:!0,tabindex:!0,"aria-label":!0,role:!0});var ge=b(a);r=Z(ge,"circle",{style:!0,cx:!0,cy:!0,r:!0,transform:!0,stroke:!0,fill:!0}),b(r).forEach(d),c=Z(ge,"text",{x:!0,y:!0,"text-anchor":!0,dy:!0,transform:!0,class:!0});var ce=b(c);h=P(ce,i),ce.forEach(d),ge.forEach(d),y=Z(O,"g",{class:!0,tabindex:!0,"aria-label":!0,role:!0});var ue=b(y);g=Z(ue,"circle",{style:!0,cx:!0,cy:!0,r:!0,transform:!0,stroke:!0,fill:!0}),b(g).forEach(d),I=Z(ue,"text",{x:!0,y:!0,"text-anchor":!0,dy:!0,transform:!0,class:!0});var Ie=b(I);A=P(Ie,p),Ie.forEach(d),ue.forEach(d),O.forEach(d),this.h()},h(){re(t,"stroke-width","1.6871"),re(t,"stroke-miterlimit","10"),u(t,"cx",0),u(t,"cy",0),u(t,"r",30),u(t,"transform",l=`translate(${e[15].x} ${e[15].y})`),u(t,"stroke","black"),u(t,"fill","transparent"),u(t,"class","transitionAll"),re(r,"stroke-width","1.6871"),re(r,"stroke-miterlimit","10"),u(r,"cx",0),u(r,"cy",0),u(r,"r",30),u(r,"transform",s=`translate(${e[16].x} ${e[16].y})`),u(r,"stroke","transparent"),u(r,"fill","transparent"),u(c,"x",0),u(c,"y",0),u(c,"text-anchor","middle"),u(c,"dy",".3em"),u(c,"transform",_=`translate(${e[16].x} ${e[16].y})`),u(c,"class","svgNoteName scaleNote transitionAll"),u(a,"class","clickable"),u(a,"tabindex","0"),u(a,"aria-label",w=`Play ${v[D(e[1]+e[14].semitonesFromRoot,v.length)]} ${At(e[19],e[0].scale)} triad`),u(a,"role","button"),re(g,"stroke-width","1.6871"),re(g,"stroke-miterlimit","10"),u(g,"cx",0),u(g,"cy",0),u(g,"r",30),u(g,"transform",S=`translate(${e[17].x} ${e[17].y})`),u(g,"stroke","transparent"),u(g,"fill","transparent"),u(I,"x",0),u(I,"y",0),u(I,"text-anchor","middle"),u(I,"dy",".3em"),u(I,"transform",k=`translate(${e[17].x} ${e[17].y})`),u(I,"class","svgNoteName scaleNote transitionAll"),u(y,"class","clickable"),u(y,"tabindex","0"),u(y,"aria-label",M=`Play ${et(e[14],e[19])} interval`),u(y,"role","button"),u(o,"class","transitionNote")},m(L,O){B(L,t,O),B(L,n,O),B(L,o,O),f(o,a),f(a,r),f(a,c),f(c,h),f(o,y),f(y,g),f(y,I),f(I,A),J||(x=[z(a,"click",Oe),z(a,"keydown",Be),z(y,"click",se),z(y,"keydown",ve)],J=!0)},p(L,O){e=L,O&31&&l!==(l=`translate(${e[15].x} ${e[15].y})`)&&u(t,"transform",l),O&67&&s!==(s=`translate(${e[16].x} ${e[16].y})`)&&u(r,"transform",s),O&1&&i!==(i=e[14].label+"")&&$(h,i),O&67&&_!==(_=`translate(${e[16].x} ${e[16].y})`)&&u(c,"transform",_),O&3&&w!==(w=`Play ${v[D(e[1]+e[14].semitonesFromRoot,v.length)]} ${At(e[19],e[0].scale)} triad`)&&u(a,"aria-label",w),O&35&&S!==(S=`translate(${e[17].x} ${e[17].y})`)&&u(g,"transform",S),O&1&&p!==(p=et(e[14],e[19])+"")&&$(A,p),O&35&&k!==(k=`translate(${e[17].x} ${e[17].y})`)&&u(I,"transform",k),O&1&&M!==(M=`Play ${et(e[14],e[19])} interval`)&&u(y,"aria-label",M)},d(L){L&&d(t),L&&d(n),L&&d(o),J=!1,nt(x)}}}function Kn(e){let t,l=[...e[0].scale],n=[];for(let o=0;o<l.length;o+=1)n[o]=Ut(Vt(e,l,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=tt()},l(o){for(let a=0;a<n.length;a+=1)n[a].l(o);t=tt()},m(o,a){for(let r=0;r<n.length;r+=1)n[r].m(o,a);B(o,t,a)},p(o,[a]){if(a&511){l=[...o[0].scale];let r;for(r=0;r<l.length;r+=1){const s=Vt(o,l,r);n[r]?n[r].p(s,a):(n[r]=Ut(s),n[r].c(),n[r].m(t.parentNode,t))}for(;r<n.length;r+=1)n[r].d(1);n.length=l.length}},i:oe,o:oe,d(o){De(n,o),o&&d(t)}}}function Qn(e,t,l){let{selectedScale:n}=t,{rootNoteIndex:o}=t,{availableModes:a}=t,{isEquivalentModing:r}=t,{notePositionCircle:s}=t,{intervalPositionCircle:c}=t,{scaleNotePositionCircle:i}=t,{bpm:h}=t;const _=p=>{On(p,o,60*1e3/h),Et.update(A=>({interval:p}))},w=p=>{Ln(o,p,n.scale,60*1e3/h),Et.update(A=>{const k=tn(p,n.scale);return{triad:{rootNote:v[D(o+n.scale[p].semitonesFromRoot,v.length)],firstInterval:{semitonesFromRoot:k[1].semitonesFromRoot-k[0].semitonesFromRoot},secondInterval:{semitonesFromRoot:k[2].semitonesFromRoot-k[0].semitonesFromRoot}}}})},y=p=>w(p),g=(p,A)=>A.key==="Enter"&&w(p),S=p=>_(p),I=(p,A)=>A.key==="Enter"&&_(p);return e.$$set=p=>{"selectedScale"in p&&l(0,n=p.selectedScale),"rootNoteIndex"in p&&l(1,o=p.rootNoteIndex),"availableModes"in p&&l(2,a=p.availableModes),"isEquivalentModing"in p&&l(3,r=p.isEquivalentModing),"notePositionCircle"in p&&l(4,s=p.notePositionCircle),"intervalPositionCircle"in p&&l(5,c=p.intervalPositionCircle),"scaleNotePositionCircle"in p&&l(6,i=p.scaleNotePositionCircle),"bpm"in p&&l(9,h=p.bpm)},[n,o,a,r,s,c,i,_,w,h,y,g,S,I]}class Yn extends Re{constructor(t){super(),je(this,t,Qn,Kn,Ae,{selectedScale:0,rootNoteIndex:1,availableModes:2,isEquivalentModing:3,notePositionCircle:4,intervalPositionCircle:5,scaleNotePositionCircle:6,bpm:9})}}function Xt(e,t,l){const n=e.slice();return n[2]=t[l],n}function yt(e){const t=e.slice(),l=on(t[0].interval.semitonesFromRoot);return t[1]=l,t}function Ht(e){let t,l,n,o,a=e[1],r=[];for(let s=0;s<a.length;s+=1)r[s]=zt(Xt(e,a,s));return{c(){t=E("h3"),l=C("Equivalent intervals:"),n=R(),o=E("div");for(let s=0;s<r.length;s+=1)r[s].c()},l(s){t=T(s,"H3",{});var c=b(t);l=P(c,"Equivalent intervals:"),c.forEach(d),n=j(s),o=T(s,"DIV",{});var i=b(o);for(let h=0;h<r.length;h+=1)r[h].l(i);i.forEach(d)},m(s,c){B(s,t,c),f(t,l),B(s,n,c),B(s,o,c);for(let i=0;i<r.length;i+=1)r[i].m(o,null)},p(s,c){if(c&1){a=s[1];let i;for(i=0;i<a.length;i+=1){const h=Xt(s,a,i);r[i]?r[i].p(h,c):(r[i]=zt(h),r[i].c(),r[i].m(o,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=a.length}},d(s){s&&d(t),s&&d(n),s&&d(o),De(r,s)}}}function zt(e){let t,l=Ot(e[2].intervalType,e[2].intervalN)+"",n,o;return{c(){t=E("span"),n=C(l),o=C("; ")},l(a){t=T(a,"SPAN",{});var r=b(t);n=P(r,l),o=P(r,"; "),r.forEach(d)},m(a,r){B(a,t,r),f(t,n),f(t,o)},p(a,r){r&1&&l!==(l=Ot(a[2].intervalType,a[2].intervalN)+"")&&$(n,l)},d(a){a&&d(t)}}}function Jt(e){let t,l,n,o,a=ee(e[0].triad.rootNote)+"",r,s,c=It(e[0].triad)+"",i;return{c(){t=E("h3"),l=C("Triad:"),n=R(),o=E("div"),r=C(a),s=R(),i=C(c)},l(h){t=T(h,"H3",{});var _=b(t);l=P(_,"Triad:"),_.forEach(d),n=j(h),o=T(h,"DIV",{});var w=b(o);r=P(w,a),s=j(w),i=P(w,c),w.forEach(d)},m(h,_){B(h,t,_),f(t,l),B(h,n,_),B(h,o,_),f(o,r),f(o,s),f(o,i)},p(h,_){_&1&&a!==(a=ee(h[0].triad.rootNote)+"")&&$(r,a),_&1&&c!==(c=It(h[0].triad)+"")&&$(i,c)},d(h){h&&d(t),h&&d(n),h&&d(o)}}}function Zn(e){let t,l,n=e[0].interval&&Ht(yt(e)),o=e[0].triad&&Jt(e);return{c(){t=E("div"),n&&n.c(),l=R(),o&&o.c(),this.h()},l(a){t=T(a,"DIV",{class:!0});var r=b(t);n&&n.l(r),l=j(r),o&&o.l(r),r.forEach(d),this.h()},h(){u(t,"class","focussedItemDetails svelte-1upnrae")},m(a,r){B(a,t,r),n&&n.m(t,null),f(t,l),o&&o.m(t,null)},p(a,[r]){a[0].interval?n?n.p(yt(a),r):(n=Ht(yt(a)),n.c(),n.m(t,l)):n&&(n.d(1),n=null),a[0].triad?o?o.p(a,r):(o=Jt(a),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},i:oe,o:oe,d(a){a&&d(t),n&&n.d(),o&&o.d()}}}function $n(e,t,l){let n={};return Et.subscribe(o=>{l(0,n={...o})}),[n]}class xn extends Re{constructor(t){super(),je(this,t,$n,Zn,Ae,{})}}function Wt(e,t,l){const n=e.slice();n[16]=t[l];const o=n[1];return n[17]=o,n}function Kt(e,t,l){const n=e.slice();n[16]=t[l];const o=n[1]+n[16].rootIntervalToIonian-n[3].rootIntervalToIonian;return n[17]=o,n}function Qt(e,t,l){const n=e.slice();return n[22]=t[l],n}function Yt(e){let t,l=e[22].label+"",n,o,a,r,s;function c(){return e[11](e[22])}return{c(){t=E("button"),n=C(l),o=R(),this.h()},l(i){t=T(i,"BUTTON",{class:!0});var h=b(t);n=P(h,l),o=j(h),h.forEach(d),this.h()},h(){u(t,"class",a=de(e[2]===e[22]?"selectedTab":"")+" svelte-1wuvjwa")},m(i,h){B(i,t,h),f(t,n),f(t,o),r||(s=z(t,"click",c),r=!0)},p(i,h){e=i,h&4&&a!==(a=de(e[2]===e[22]?"selectedTab":"")+" svelte-1wuvjwa")&&u(t,"class",a)},d(i){i&&d(t),r=!1,s()}}}function Zt(e){let t,l,n=ee(v[D(e[17],v.length)])+"",o,a,r=e[16].name+"",s,c,i,h,_;function w(){return e[12](e[16],e[17])}return{c(){t=E("button"),l=E("span"),o=C(n),a=R(),s=C(r),c=R(),this.h()},l(y){t=T(y,"BUTTON",{class:!0});var g=b(t);l=T(g,"SPAN",{class:!0});var S=b(l);o=P(S,n),S.forEach(d),a=j(g),s=P(g,r),c=j(g),g.forEach(d),this.h()},h(){u(l,"class","noteLabel svelte-1wuvjwa"),u(t,"class",i=de(e[16]===e[3]&&e[0]?"selectedTab":"")+" svelte-1wuvjwa")},m(y,g){B(y,t,g),f(t,l),f(l,o),f(t,a),f(t,s),f(t,c),h||(_=z(t,"click",w),h=!0)},p(y,g){e=y,g&14&&n!==(n=ee(v[D(e[17],v.length)])+"")&&$(o,n),g&4&&r!==(r=e[16].name+"")&&$(s,r),g&13&&i!==(i=de(e[16]===e[3]&&e[0]?"selectedTab":"")+" svelte-1wuvjwa")&&u(t,"class",i)},d(y){y&&d(t),h=!1,_()}}}function $t(e){let t,l,n=ee(v[D(e[17],v.length)])+"",o,a,r=e[16].name+"",s,c,i,h,_;function w(){return e[13](e[16],e[17])}return{c(){t=E("button"),l=E("span"),o=C(n),a=R(),s=C(r),c=R(),this.h()},l(y){t=T(y,"BUTTON",{class:!0});var g=b(t);l=T(g,"SPAN",{class:!0});var S=b(l);o=P(S,n),S.forEach(d),a=j(g),s=P(g,r),c=j(g),g.forEach(d),this.h()},h(){u(l,"class","noteLabel svelte-1wuvjwa"),u(t,"class",i=de(e[16]===e[3]&&!e[0]?"selectedTab":"")+" svelte-1wuvjwa")},m(y,g){B(y,t,g),f(t,l),f(l,o),f(t,a),f(t,s),f(t,c),h||(_=z(t,"click",w),h=!0)},p(y,g){e=y,g&2&&n!==(n=ee(v[D(e[17],v.length)])+"")&&$(o,n),g&4&&r!==(r=e[16].name+"")&&$(s,r),g&13&&i!==(i=de(e[16]===e[3]&&!e[0]?"selectedTab":"")+" svelte-1wuvjwa")&&u(t,"class",i)},d(y){y&&d(t),h=!1,_()}}}function el(e){let t,l,n,o,a,r,s,c,i,h,_,w,y,g,S,I=ee(v[D(e[1],v.length)])+"",p,A,k,M,J,x,Oe,Be,se,ve,L,O,ge,ce=e[2].label+"",ue,Ie,lt,ot,qe,fe,Ge,rt,at,st,ke,he,it,Ne,Ee,ie,Te,ct,ut,be,Ke,ft,ht,we,mt,dt,pe,ye,_t,wt;t=new Fn({props:{rootNoteIndex:e[1],selectedScaleName:e[3].name}}),r=new Yn({props:{selectedScale:e[3],bpm:e[4],rootNoteIndex:e[1],intervalPositionCircle:e[8],scaleNotePositionCircle:e[7],availableModes:e[2].modes,isEquivalentModing:e[0],notePositionCircle:e[6]}}),s=new Wn({props:{notePositionCircle:e[6],rootNoteIndex:e[1],selectedScaleNotes:e[3].scale}});let Se=kt,W=[];for(let m=0;m<Se.length;m+=1)W[m]=Yt(Qt(e,Se,m));let Me=e[2].modes,K=[];for(let m=0;m<Me.length;m+=1)K[m]=Zt(Kt(e,Me,m));let Ce=e[2].modes,Q=[];for(let m=0;m<Ce.length;m+=1)Q[m]=$t(Wt(e,Ce,m));return he=new Hn({props:{bpm:e[4],rootNoteIndex:e[1],selectedModesGroup:e[2],selectedScaleNotes:e[3].scale}}),pe=new xn({}),{c(){Ve(t.$$.fragment),l=R(),n=E("div"),o=Y("svg"),a=Y("circle"),Ve(r.$$.fragment),Ve(s.$$.fragment),c=R(),i=E("div"),h=E("div"),_=C(`Root note
			`),w=E("button"),y=C("-"),g=R(),S=E("span"),p=C(I),A=R(),k=E("button"),M=C("+"),J=R(),x=E("div"),Oe=C(`Mode type
			`);for(let m=0;m<W.length;m+=1)W[m].c();Be=R(),se=E("div"),ve=E("div"),L=E("div"),O=E("h2"),ge=C("Equivalent "),ue=C(ce),Ie=C(" modes"),lt=R();for(let m=0;m<K.length;m+=1)K[m].c();ot=R(),qe=E("div"),fe=E("div"),Ge=E("h2"),rt=C("Modes by modification"),at=R();for(let m=0;m<Q.length;m+=1)Q[m].c();st=R(),ke=E("div"),Ve(he.$$.fragment),it=R(),Ne=E("div"),Ee=E("div"),ie=E("div"),Te=E("button"),ct=C("-"),ut=R(),be=E("span"),Ke=C(e[4]),ft=C(" bpm"),ht=R(),we=E("button"),mt=C("+"),dt=R(),Ve(pe.$$.fragment),this.h()},l(m){Ue(t.$$.fragment,m),l=j(m),n=T(m,"DIV",{class:!0,"data-sveltekit-preload-data":!0});var F=b(n);o=Z(F,"svg",{id:!0,viewBox:!0,xmlns:!0,class:!0});var q=b(o);a=Z(q,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,class:!0}),b(a).forEach(d),Ue(r.$$.fragment,q),Ue(s.$$.fragment,q),q.forEach(d),c=j(F),i=T(F,"DIV",{class:!0});var V=b(i);h=T(V,"DIV",{});var te=b(h);_=P(te,`Root note
			`),w=T(te,"BUTTON",{});var me=b(w);y=P(me,"-"),me.forEach(d),g=j(te),S=T(te,"SPAN",{class:!0});var N=b(S);p=P(N,I),N.forEach(d),A=j(te),k=T(te,"BUTTON",{});var ne=b(k);M=P(ne,"+"),ne.forEach(d),te.forEach(d),J=j(V),x=T(V,"DIV",{});var vt=b(x);Oe=P(vt,`Mode type
			`);for(let le=0;le<W.length;le+=1)W[le].l(vt);vt.forEach(d),Be=j(V),se=T(V,"DIV",{});var Qe=b(se);ve=T(Qe,"DIV",{});var St=b(ve);L=T(St,"DIV",{});var Ye=b(L);O=T(Ye,"H2",{});var Ze=b(O);ge=P(Ze,"Equivalent "),ue=P(Ze,ce),Ie=P(Ze," modes"),Ze.forEach(d),lt=j(Ye);for(let le=0;le<K.length;le+=1)K[le].l(Ye);Ye.forEach(d),St.forEach(d),ot=j(Qe),qe=T(Qe,"DIV",{});var Mt=b(qe);fe=T(Mt,"DIV",{});var $e=b(fe);Ge=T($e,"H2",{});var Ct=b(Ge);rt=P(Ct,"Modes by modification"),Ct.forEach(d),at=j($e);for(let le=0;le<Q.length;le+=1)Q[le].l($e);$e.forEach(d),Mt.forEach(d),Qe.forEach(d),st=j(V),ke=T(V,"DIV",{class:!0});var Pt=b(ke);Ue(he.$$.fragment,Pt),Pt.forEach(d),it=j(V),Ne=T(V,"DIV",{class:!0});var Ft=b(Ne);Ee=T(Ft,"DIV",{class:!0});var Dt=b(Ee);ie=T(Dt,"DIV",{});var Pe=b(ie);Te=T(Pe,"BUTTON",{});var Rt=b(Te);ct=P(Rt,"-"),Rt.forEach(d),ut=j(Pe),be=T(Pe,"SPAN",{class:!0});var gt=b(be);Ke=P(gt,e[4]),ft=P(gt," bpm"),gt.forEach(d),ht=j(Pe),we=T(Pe,"BUTTON",{});var jt=b(we);mt=P(jt,"+"),jt.forEach(d),Pe.forEach(d),Dt.forEach(d),Ft.forEach(d),dt=j(V),Ue(pe.$$.fragment,V),V.forEach(d),F.forEach(d),this.h()},h(){u(a,"cx",e[5].xCentre),u(a,"cy",e[5].yCentre),u(a,"r",e[5].radius),u(a,"stroke","grey"),u(a,"stroke-width",1),u(a,"fill","var(--base-background-color)"),u(a,"class","background svelte-1wuvjwa"),u(o,"id","boxOfNotes"),u(o,"viewBox","0 0 800 800"),u(o,"xmlns","http://www.w3.org/2000/svg"),u(o,"class","svelte-1wuvjwa"),u(S,"class","noteLabel svelte-1wuvjwa"),u(ke,"class","musicControls svelte-1wuvjwa"),u(be,"class","noteLabel svelte-1wuvjwa"),u(Ee,"class","svelte-1wuvjwa"),u(Ne,"class","musicControls svelte-1wuvjwa"),u(i,"class","boxOfButtons svelte-1wuvjwa"),u(n,"class","appContainer svelte-1wuvjwa"),u(n,"data-sveltekit-preload-data","hover")},m(m,F){Xe(t,m,F),B(m,l,F),B(m,n,F),f(n,o),f(o,a),Xe(r,o,null),Xe(s,o,null),f(n,c),f(n,i),f(i,h),f(h,_),f(h,w),f(w,y),f(h,g),f(h,S),f(S,p),f(h,A),f(h,k),f(k,M),f(i,J),f(i,x),f(x,Oe);for(let q=0;q<W.length;q+=1)W[q].m(x,null);f(i,Be),f(i,se),f(se,ve),f(ve,L),f(L,O),f(O,ge),f(O,ue),f(O,Ie),f(L,lt);for(let q=0;q<K.length;q+=1)K[q].m(L,null);f(se,ot),f(se,qe),f(qe,fe),f(fe,Ge),f(Ge,rt),f(fe,at);for(let q=0;q<Q.length;q+=1)Q[q].m(fe,null);f(i,st),f(i,ke),Xe(he,ke,null),f(i,it),f(i,Ne),f(Ne,Ee),f(Ee,ie),f(ie,Te),f(Te,ct),f(ie,ut),f(ie,be),f(be,Ke),f(be,ft),f(ie,ht),f(ie,we),f(we,mt),f(i,dt),Xe(pe,i,null),ye=!0,_t||(wt=[z(w,"click",e[9]),z(k,"click",e[10]),z(Te,"click",e[14]),z(we,"click",e[15])],_t=!0)},p(m,[F]){const q={};F&2&&(q.rootNoteIndex=m[1]),F&8&&(q.selectedScaleName=m[3].name),t.$set(q);const V={};F&8&&(V.selectedScale=m[3]),F&16&&(V.bpm=m[4]),F&2&&(V.rootNoteIndex=m[1]),F&4&&(V.availableModes=m[2].modes),F&1&&(V.isEquivalentModing=m[0]),r.$set(V);const te={};if(F&2&&(te.rootNoteIndex=m[1]),F&8&&(te.selectedScaleNotes=m[3].scale),s.$set(te),(!ye||F&2)&&I!==(I=ee(v[D(m[1],v.length)])+"")&&$(p,I),F&12){Se=kt;let N;for(N=0;N<Se.length;N+=1){const ne=Qt(m,Se,N);W[N]?W[N].p(ne,F):(W[N]=Yt(ne),W[N].c(),W[N].m(x,null))}for(;N<W.length;N+=1)W[N].d(1);W.length=Se.length}if((!ye||F&4)&&ce!==(ce=m[2].label+"")&&$(ue,ce),F&15){Me=m[2].modes;let N;for(N=0;N<Me.length;N+=1){const ne=Kt(m,Me,N);K[N]?K[N].p(ne,F):(K[N]=Zt(ne),K[N].c(),K[N].m(L,null))}for(;N<K.length;N+=1)K[N].d(1);K.length=Me.length}if(F&15){Ce=m[2].modes;let N;for(N=0;N<Ce.length;N+=1){const ne=Wt(m,Ce,N);Q[N]?Q[N].p(ne,F):(Q[N]=$t(ne),Q[N].c(),Q[N].m(fe,null))}for(;N<Q.length;N+=1)Q[N].d(1);Q.length=Ce.length}const me={};F&16&&(me.bpm=m[4]),F&2&&(me.rootNoteIndex=m[1]),F&4&&(me.selectedModesGroup=m[2]),F&8&&(me.selectedScaleNotes=m[3].scale),he.$set(me),(!ye||F&16)&&$(Ke,m[4])},i(m){ye||(He(t.$$.fragment,m),He(r.$$.fragment,m),He(s.$$.fragment,m),He(he.$$.fragment,m),He(pe.$$.fragment,m),ye=!0)},o(m){ze(t.$$.fragment,m),ze(r.$$.fragment,m),ze(s.$$.fragment,m),ze(he.$$.fragment,m),ze(pe.$$.fragment,m),ye=!1},d(m){Je(t,m),m&&d(l),m&&d(n),Je(r),Je(s),De(W,m),De(K,m),De(Q,m),Je(he),Je(pe),_t=!1,nt(wt)}}}function tl(e,t,l){const n={xCentre:400,yCentre:400,radius:300};let o=!0;const a={...n,radius:n.radius},r={...n,radius:n.radius-70},s={...n,radius:n.radius+70};let c=0,i=kt[0],h=i.modes[0],_=70;return[o,c,i,h,_,n,a,r,s,()=>{l(1,c=c-1),c<0&&l(1,c=c+12)},()=>{l(1,c=c+1),c>=12&&l(1,c=c-12)},k=>{i!==k&&(l(2,i=k),l(3,h=k.modes[0]))},(k,M)=>{l(3,h=k),l(1,c=D(M,v.length)),l(0,o=!0)},(k,M)=>{l(3,h=k),l(1,c=D(M,v.length)),l(0,o=!1)},()=>{_>10&&l(4,_=_-20)},()=>{l(4,_=_+20)}]}class ol extends Re{constructor(t){super(),je(this,t,tl,el,Ae,{})}}export{ol as default};

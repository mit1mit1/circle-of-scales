import{S as Y,i as Z,s as ee,k as D,J as F,e as J,a as G,q as w,l as O,m as k,K as I,h as N,c as T,r as B,n as s,b as q,G as c,L as K,u as te,H as L,M as j,N as le,p as A,O as C}from"../chunks/index.9fc21f1b.js";const d=[{sharpNote:"C",flatNote:"C"},{sharpNote:"C#",flatNote:"D♭",preferSharp:!0},{sharpNote:"D",flatNote:"D"},{sharpNote:"D#",flatNote:"E♭",preferSharp:!1},{sharpNote:"E",flatNote:"E"},{sharpNote:"F",flatNote:"F"},{sharpNote:"F#",flatNote:"G♭",preferSharp:!0},{sharpNote:"G",flatNote:"G"},{sharpNote:"G#",flatNote:"A♭",preferSharp:!1},{sharpNote:"A",flatNote:"A"},{sharpNote:"A#",flatNote:"B♭",preferSharp:!1},{sharpNote:"A",flatNote:"B"}],V=[{semitonesFromRoot:0,label:"I"},{semitonesFromRoot:2,label:"ii"},{semitonesFromRoot:4,label:"iii"},{semitonesFromRoot:5,label:"IV"},{semitonesFromRoot:7,label:"V"},{semitonesFromRoot:9,label:"vi"},{semitonesFromRoot:11,label:"vii"}];function z(t,r,e){const a=t.slice();return a[8]=r[e],a}function Q(t,r,e){const a=t.slice();return a[11]=r[e],a[13]=e,a}function W(t){let r,e,a,l,y=t[2](t[11])+"",p,m;return{c(){r=F("g"),e=F("circle"),l=F("text"),p=w(y),this.h()},l(n){r=I(n,"g",{class:!0});var h=k(r);e=I(h,"circle",{style:!0,cx:!0,cy:!0,r:!0,stroke:!0,fill:!0,class:!0}),k(e).forEach(N),l=I(h,"text",{x:!0,y:!0,class:!0,"text-anchor":!0,dy:!0});var b=k(l);p=B(b,y),b.forEach(N),h.forEach(N),this.h()},h(){A(e,"stroke-width","1.6871"),A(e,"stroke-miterlimit","10"),s(e,"cx",t[3](t[13]).x),s(e,"cy",t[3](t[13]).y),s(e,"r",30),s(e,"stroke","black"),s(e,"fill","transparent"),s(e,"class",a=C(t[5](t[13],t[0])?"transitionNote visible":"transitionNote hidden")+" svelte-1tkx475"),s(l,"x",t[3](t[13]).x),s(l,"y",t[3](t[13]).y),s(l,"class",m=C(`svgNoteName ${t[5](t[13],t[0])?"svgSelectedNoteName":""}`)+" svelte-1tkx475"),s(l,"text-anchor","middle"),s(l,"dy",".3em"),s(r,"class","transitionNote svelte-1tkx475")},m(n,h){q(n,r,h),c(r,e),c(r,l),c(l,p)},p(n,h){h&1&&a!==(a=C(n[5](n[13],n[0])?"transitionNote visible":"transitionNote hidden")+" svelte-1tkx475")&&s(e,"class",a),h&1&&m!==(m=C(`svgNoteName ${n[5](n[13],n[0])?"svgSelectedNoteName":""}`)+" svelte-1tkx475")&&s(l,"class",m)},d(n){n&&N(r)}}}function X(t){let r,e,a,l,y=t[8].label+"",p,m;return{c(){r=F("g"),e=F("circle"),l=F("text"),p=w(y),this.h()},l(n){r=I(n,"g",{class:!0});var h=k(r);e=I(h,"circle",{style:!0,cx:!0,cy:!0,r:!0,transform:!0,class:!0,fill:!0}),k(e).forEach(N),l=I(h,"text",{x:!0,y:!0,"text-anchor":!0,dy:!0,transform:!0,class:!0});var b=k(l);p=B(b,y),b.forEach(N),h.forEach(N),this.h()},h(){A(e,"stroke-width","1.6871"),A(e,"stroke-miterlimit","10"),s(e,"cx",t[4](t[8],0).x),s(e,"cy",t[4](t[8],0).y),s(e,"r",30),s(e,"transform",a=`rotate(${t[0]*360/d.length} ${t[1].x} ${t[1].y})`),s(e,"class","hidden svelte-1tkx475"),s(e,"fill","transparent"),s(l,"x",t[4](t[8],0).x),s(l,"y",t[4](t[8],0).y),s(l,"text-anchor","middle"),s(l,"dy",".3em"),s(l,"transform",m=`rotate(${t[0]*360/d.length} ${t[1].x} ${t[1].y})`),s(l,"class","svgNoteName scaleNote svelte-1tkx475"),s(r,"class","transitionNote svelte-1tkx475")},m(n,h){q(n,r,h),c(r,e),c(r,l),c(l,p)},p(n,h){h&1&&a!==(a=`rotate(${n[0]*360/d.length} ${n[1].x} ${n[1].y})`)&&s(e,"transform",a),h&1&&m!==(m=`rotate(${n[0]*360/d.length} ${n[1].x} ${n[1].y})`)&&s(l,"transform",m)},d(n){n&&N(r)}}}function se(t){let r,e,a,l,y,p=t[2](d[t[0]])+"",m,n,h,b,g,v,S,R,U,M=[...d],f=[];for(let i=0;i<M.length;i+=1)f[i]=W(Q(t,M,i));let P=[...V],u=[];for(let i=0;i<P.length;i+=1)u[i]=X(z(t,P,i));return{c(){r=D("div"),e=F("svg"),a=F("circle");for(let i=0;i<f.length;i+=1)f[i].c();l=J();for(let i=0;i<u.length;i+=1)u[i].c();y=G(),m=w(p),n=G(),h=D("button"),b=w("-"),g=G(),v=D("button"),S=w("+"),this.h()},l(i){r=O(i,"DIV",{class:!0,"data-sveltekit-preload-data":!0});var _=k(r);e=I(_,"svg",{id:!0,viewBox:!0,xmlns:!0,class:!0});var o=k(e);a=I(o,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),k(a).forEach(N);for(let x=0;x<f.length;x+=1)f[x].l(o);l=J();for(let x=0;x<u.length;x+=1)u[x].l(o);o.forEach(N),y=T(_),m=B(_,p),n=T(_),h=O(_,"BUTTON",{});var E=k(h);b=B(E,"-"),E.forEach(N),g=T(_),v=O(_,"BUTTON",{});var H=k(v);S=B(H,"+"),H.forEach(N),_.forEach(N),this.h()},h(){s(a,"cx",t[1].x),s(a,"cy",t[1].y),s(a,"r",$+30),s(a,"stroke","grey"),s(a,"stroke-width",1),s(a,"fill","transparent"),s(e,"id","boxOfNotes"),s(e,"viewBox","0 0 800 800"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"class","svelte-1tkx475"),s(r,"class","appContainer svelte-1tkx475"),s(r,"data-sveltekit-preload-data","hover")},m(i,_){q(i,r,_),c(r,e),c(e,a);for(let o=0;o<f.length;o+=1)f[o].m(e,null);c(e,l);for(let o=0;o<u.length;o+=1)u[o].m(e,null);c(r,y),c(r,m),c(r,n),c(r,h),c(h,b),c(r,g),c(r,v),c(v,S),R||(U=[K(h,"click",t[6]),K(v,"click",t[7])],R=!0)},p(i,[_]){if(_&45){M=[...d];let o;for(o=0;o<M.length;o+=1){const E=Q(i,M,o);f[o]?f[o].p(E,_):(f[o]=W(E),f[o].c(),f[o].m(e,l))}for(;o<f.length;o+=1)f[o].d(1);f.length=M.length}if(_&19){P=[...V];let o;for(o=0;o<P.length;o+=1){const E=z(i,P,o);u[o]?u[o].p(E,_):(u[o]=X(E),u[o].c(),u[o].m(e,null))}for(;o<u.length;o+=1)u[o].d(1);u.length=P.length}_&1&&p!==(p=i[2](d[i[0]])+"")&&te(m,p)},i:L,o:L,d(i){i&&N(r),j(f,i),j(u,i),R=!1,le(U)}}}const $=330;function re(t,r,e){const a={x:400,y:400};let l=0;return[l,a,g=>g.preferSharp?g.sharpNote:g.flatNote,g=>({x:a.x+($-10)*Math.cos(g*2*Math.PI/d.length-.5*Math.PI),y:a.y+($-10)*Math.sin(g*2*Math.PI/d.length-.5*Math.PI)}),(g,v)=>({x:a.x+($-80)*Math.cos((g.semitonesFromRoot+v)*2*Math.PI/d.length-.5*Math.PI),y:a.y+($-80)*Math.sin((g.semitonesFromRoot+v)*2*Math.PI/d.length-.5*Math.PI)}),(g,v)=>{let S=(g-v)%d.length;return S<0&&(S=S+d.length),V.some(R=>R.semitonesFromRoot===S)},()=>{e(0,l=l-1),l<0&&e(0,l=l+12)},()=>{e(0,l=l+1),l>=12&&e(0,l=l-12)}]}class ae extends Y{constructor(r){super(),Z(this,r,re,se,ee,{})}}export{ae as default};

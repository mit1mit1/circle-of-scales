import{S as H,i as J,s as K,k as R,J as b,e as j,a as L,l as w,m as y,K as k,h as d,c as T,n as a,b as E,G as N,L as x,M as U,N as V,H as C,O as $,q,r as O,p as M,P as I}from"../chunks/index.9a8fc924.js";const F=[{sharpNote:"C",flatNote:"C"},{sharpNote:"C#",flatNote:"D♭",preferSharp:!0},{sharpNote:"D",flatNote:"D"},{sharpNote:"D#",flatNote:"E♭",preferSharp:!1},{sharpNote:"E",flatNote:"E"},{sharpNote:"F",flatNote:"F"},{sharpNote:"F#",flatNote:"G♭",preferSharp:!0},{sharpNote:"G",flatNote:"G"},{sharpNote:"G#",flatNote:"A♭",preferSharp:!1},{sharpNote:"A",flatNote:"A"},{sharpNote:"A#",flatNote:"B♭",preferSharp:!1},{sharpNote:"A",flatNote:"B"}],P=[{semitonesFromRoot:0,label:"I"},{semitonesFromRoot:2,label:"ii"},{semitonesFromRoot:4,label:"iii"},{semitonesFromRoot:5,label:"IV"},{semitonesFromRoot:7,label:"V"},{semitonesFromRoot:9,label:"vi"},{semitonesFromRoot:11,label:"vii"}];function A(l,r,e){const o=l.slice();return o[7]=r[e],o}function D(l,r,e){const o=l.slice();return o[10]=r[e],o[12]=e,o}function G(l){let r,e,o,i,_=l[2](l[10])+"",m,p;return{c(){r=b("g"),e=b("circle"),i=b("text"),m=q(_),this.h()},l(c){r=k(c,"g",{});var u=y(r);e=k(u,"circle",{style:!0,cx:!0,cy:!0,r:!0,stroke:!0,fill:!0,class:!0}),y(e).forEach(d),i=k(u,"text",{x:!0,y:!0,class:!0,"text-anchor":!0,dy:!0});var t=y(i);m=O(t,_),t.forEach(d),u.forEach(d),this.h()},h(){M(e,"stroke-width","1.6871"),M(e,"stroke-miterlimit","10"),a(e,"cx",l[3](l[12]).x),a(e,"cy",l[3](l[12]).y),a(e,"r",30),a(e,"stroke","black"),a(e,"fill","transparent"),a(e,"class",o=I(l[5](l[12],l[0])?"visible":"hidden")+" svelte-1jd8gna"),a(i,"x",l[3](l[12]).x),a(i,"y",l[3](l[12]).y),a(i,"class",p=I(`svgNoteName ${l[5](l[12],l[0])?"svgSelectedNoteName":""}`)+" svelte-1jd8gna"),a(i,"text-anchor","middle"),a(i,"dy",".3em")},m(c,u){E(c,r,u),N(r,e),N(r,i),N(i,m)},p(c,u){u&1&&o!==(o=I(c[5](c[12],c[0])?"visible":"hidden")+" svelte-1jd8gna")&&a(e,"class",o),u&1&&p!==(p=I(`svgNoteName ${c[5](c[12],c[0])?"svgSelectedNoteName":""}`)+" svelte-1jd8gna")&&a(i,"class",p)},d(c){c&&d(r)}}}function B(l){let r,e,o,i,_,m=l[7].label+"",p,c,u;return{c(){r=b("g"),e=b("circle"),_=b("text"),p=q(m),this.h()},l(t){r=k(t,"g",{});var f=y(r);e=k(f,"circle",{style:!0,cx:!0,cy:!0,r:!0,stroke:!0,class:!0,fill:!0}),y(e).forEach(d),_=k(f,"text",{x:!0,y:!0,"text-anchor":!0,dy:!0,class:!0});var h=y(_);p=O(h,m),h.forEach(d),f.forEach(d),this.h()},h(){M(e,"stroke-width","1.6871"),M(e,"stroke-miterlimit","10"),a(e,"cx",o=l[4](l[7],l[0]).x),a(e,"cy",i=l[4](l[7],l[0]).y),a(e,"r",30),a(e,"stroke","black"),a(e,"class","hidden svelte-1jd8gna"),a(e,"fill","transparent"),a(_,"x",c=l[4](l[7],l[0]).x),a(_,"y",u=l[4](l[7],l[0]).y),a(_,"text-anchor","middle"),a(_,"dy",".3em"),a(_,"class","svgNoteName scaleNote svelte-1jd8gna")},m(t,f){E(t,r,f),N(r,e),N(r,_),N(_,p)},p(t,f){f&1&&o!==(o=t[4](t[7],t[0]).x)&&a(e,"cx",o),f&1&&i!==(i=t[4](t[7],t[0]).y)&&a(e,"cy",i),f&1&&c!==(c=t[4](t[7],t[0]).x)&&a(_,"x",c),f&1&&u!==(u=t[4](t[7],t[0]).y)&&a(_,"y",u)},d(t){t&&d(r)}}}function z(l){let r,e,o,i,_,m,p,c,u=[...F],t=[];for(let n=0;n<u.length;n+=1)t[n]=G(D(l,u,n));let f=[...P],h=[];for(let n=0;n<f.length;n+=1)h[n]=B(A(l,f,n));return{c(){r=R("div"),e=b("svg"),o=b("circle");for(let n=0;n<t.length;n+=1)t[n].c();i=j();for(let n=0;n<h.length;n+=1)h[n].c();_=L(),m=R("input"),this.h()},l(n){r=w(n,"DIV",{class:!0,"data-sveltekit-preload-data":!0});var v=y(r);e=k(v,"svg",{id:!0,viewBox:!0,xmlns:!0,class:!0});var s=y(e);o=k(s,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,fill:!0}),y(o).forEach(d);for(let g=0;g<t.length;g+=1)t[g].l(s);i=j();for(let g=0;g<h.length;g+=1)h[g].l(s);s.forEach(d),_=T(v),m=w(v,"INPUT",{type:!0,min:!0,max:!0}),v.forEach(d),this.h()},h(){a(o,"cx",l[1].x),a(o,"cy",l[1].y),a(o,"r",S+30),a(o,"stroke","black"),a(o,"fill","transparent"),a(e,"id","boxOfNotes"),a(e,"viewBox","0 0 800 800"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"class","svelte-1jd8gna"),a(m,"type","number"),a(m,"min",0),a(m,"max",11),a(r,"class","appContainer svelte-1jd8gna"),a(r,"data-sveltekit-preload-data","hover")},m(n,v){E(n,r,v),N(r,e),N(e,o);for(let s=0;s<t.length;s+=1)t[s].m(e,null);N(e,i);for(let s=0;s<h.length;s+=1)h[s].m(e,null);N(r,_),N(r,m),x(m,l[0]),p||(c=U(m,"input",l[6]),p=!0)},p(n,[v]){if(v&45){u=[...F];let s;for(s=0;s<u.length;s+=1){const g=D(n,u,s);t[s]?t[s].p(g,v):(t[s]=G(g),t[s].c(),t[s].m(e,i))}for(;s<t.length;s+=1)t[s].d(1);t.length=u.length}if(v&17){f=[...P];let s;for(s=0;s<f.length;s+=1){const g=A(n,f,s);h[s]?h[s].p(g,v):(h[s]=B(g),h[s].c(),h[s].m(e,null))}for(;s<h.length;s+=1)h[s].d(1);h.length=f.length}v&1&&V(m.value)!==n[0]&&x(m,n[0])},i:C,o:C,d(n){n&&d(r),$(t,n),$(h,n),p=!1,c()}}}const S=330;function Q(l,r,e){const o={x:400,y:400};let i=4;const _=t=>t.preferSharp?t.sharpNote:t.flatNote,m=t=>({x:o.x+(S-10)*Math.cos(t*2*Math.PI/F.length-.5*Math.PI),y:o.y+(S-10)*Math.sin(t*2*Math.PI/F.length-.5*Math.PI)}),p=(t,f)=>({x:o.x+(S-80)*Math.cos((t.semitonesFromRoot+f)*2*Math.PI/F.length-.5*Math.PI),y:o.y+(S-80)*Math.sin((t.semitonesFromRoot+f)*2*Math.PI/F.length-.5*Math.PI)}),c=(t,f)=>{let h=t-f;return h<0&&(h=h+F.length),P.some(n=>n.semitonesFromRoot===h)};function u(){i=V(this.value),e(0,i)}return[i,o,_,m,p,c,u]}class X extends H{constructor(r){super(),J(this,r,Q,z,K,{})}}export{X as default};
